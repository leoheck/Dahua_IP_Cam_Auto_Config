@echo off
chcp 65001
rem Задаю початкові змінні
set TempCamIP1=110
set TempCamIP2=120
set TempCamIP3=130
set TempCamIP4=140
set RegularCamIP1=10
set RegularCamIP2=20
set RegularCamIP3=30
set RegularCamIP4=40
set Subnet=XXX
Set NetworkIP=10.0.
set TempPass=Aa142358
Set RegularPass=QwErTy132465
Set EmailPassword=qwerty123456
Set MTU=1422
set startworkday=08:00
set endworkday=20:00
set FTPLogin=-
set FTPPass=-
set MashineName=-
set ShowTitleName=-
set TitleName=-
set FTPADRESS=10.0.0.9
set PingAdress=10.0.0.10
set TempDirectory=C:\Temp
set 1NVRIP=10.0.0.10
set 2NVRIP=10.0.0.20
set 3NVRIP=10.0.0.30
set 4NVRIP=10.0.0.40
set NVRLogin=admin
set NVRPassword=admin
set passwordshop1=UctJBDMBEAwkCu
set passwordshop2=hj2XmzUe4wjuzs
set passwordshop3=wQASrE8rypS6b7
set passwordshop4=SNAD9HKsq576WC
set passwordshop5=bnTG2yp6dWQwHZ
set passwordshop6=3YFbZ7SprhG9pJ
set passwordshop7=NXMzPem9C2JCq9
set passwordshop8=JcJZyEL72c2Lzq
set passwordshop9=W3JLMwtTyJcauT
set passwordshop10=FVBn8XhnWmct64
set passwordshop11=ANzQjKavvF68C9
set passwordshop12=3MJ8zpx3MvLu3q
set passwordshop13=pY9japqwLPDgcp
set passwordshop14=Qsfdt92bHy5eRW
set passwordshop15=tSyfGTKfj3J9nu
set passwordshop16=TWRhbcGvZeCe5m
set passwordshop17=C5ME8nE7s4Xejv
set passwordshop18=udUrjz9tmVfTqe
set passwordshop19=kND6bAhbH93aDA
set passwordshop20=PN3cKSmKEz9yhd
set passwordshop21=jGhVcGEURPzh4F
set passwordshop22=hQytbrqy7zMY4e
set passwordshop23=GNWsP4JeuHuhRc
set passwordshop24=7w43FaBX4enREW
set passwordshop25=duVba4Z9CgYWv8
set passwordshop26=kPtnGHP3p8kYqy
set passwordshop27=6YgW4GjVFrFKak
set passwordshop28=yxA9Vm2nRAdgkG
set passwordshop29=zuGMMGMwWDdzVm
set passwordshop30=tzYuuXk3PUVx4a
set passwordshop31=zUT82sbcw59a58
set passwordshop32=9REzHAxkBXd9J3
set passwordshop33=7GR4qDsdCNywHg
set passwordshop34=FgZn89ngcYNRd4
set passwordshop35=dyQFekKGhegLrT
set passwordshop36=sXBCUUkGD9NfkS
set passwordshop37=tx5HM4LmxJE2pK
set passwordshop38=qBLLU4Y28xTgvd
set passwordshop39=DQnhz3A8HN3vTJ
set passwordshop40=QcVEZxjwAdjzKS
set passwordshop41=KXWEp4kjTLutbk
set passwordshop42=W6KhqHKj47h7V6
set passwordshop43=TRxNm5l0DPv6n3
set passwordshop44=mIFt9nTWee0EYW
set passwordshop45=RdHGr55R6F4q0y
set passwordshop46=y26CTd69ud4uEu
set passwordshop47=nwph0nBbirz2t4
set passwordshop48=V6YwyF86AU1L5i
set passwordshop49=EH8n6ksoIrkptU
set passwordshop50=9gPRIWafa144nj
set passwordshop51=LC0XHgP907WQjj
set passwordshop52=KZ970qR6bV9YeZ
set passwordshop53=OICH98X92xdt9b
set passwordshop54=2lGVLcz21gFUA6
set passwordshop55=D6Rq2O9PwfMb2i
set passwordshop56=0z3C17e6jH7gg1
set passwordshop57=R7l7qpdlO3SvtV
set passwordshop58=9q9Fa85ol5P3Th
set passwordshop59=7q9M1yg10c23Rk
set passwordshop60=OP4ChtCkd81C81
set passwordshop61=6CYoLw1233g287
set passwordshop62=dlkoucNM8kZeGs
set passwordshop63=e1u0nxA7tRvZA7
set passwordshop64=7E7fY6S24zMO4N
set passwordshop65=eYBdbxQrN7oD0c
set passwordshop66=r28gxktEBj3PzD
set passwordshop255=JBD3xmYf3863ly
set NameShop1=XXXXXXXXXXXXX
set NameShop2=XXXXXXXXXXXXX
set NameShop3=XXXXXXXXXXXXX
set NameShop4=XXXXXXXXXXXXX
set NameShop5=XXXXXXXXXXXXX
set NameShop6=XXXXXXXXXXXXX
set NameShop7=XXXXXXXXXXXXX
set NameShop8=XXXXXXXXXXXXX
set NameShop9=XXXXXXXXXXXXX
set NameShop10=XXXXXXXXXXXXX
set NameShop11=XXXXXXXXXXXXX
set NameShop12=XXXXXXXXXXXXX
set NameShop13=XXXXXXXXXXXXX
set NameShop14=XXXXXXXXXXXXX
set NameShop15=XXXXXXXXXXXXX
set NameShop16=XXXXXXXXXXXXX
set NameShop17=XXXXXXXXXXXXX
set NameShop18=XXXXXXXXXXXXX
set NameShop19=XXXXXXXXXXXXX
set NameShop20=XXXXXXXXXXXXX
set NameShop21=XXXXXXXXXXXXX
set NameShop22=XXXXXXXXXXXXX
set NameShop23=XXXXXXXXXXXXX
set NameShop24=XXXXXXXXXXXXX
set NameShop25=XXXXXXXXXXXXX
set NameShop26=XXXXXXXXXXXXX
set NameShop27=XXXXXXXXXXXXX
set NameShop28=XXXXXXXXXXXXX
set NameShop29=XXXXXXXXXXXXX
set NameShop30=XXXXXXXXXXXXX
set NameShop31=XXXXXXXXXXXXX
set NameShop32=XXXXXXXXXXXXX
set NameShop33=XXXXXXXXXXXXX
set NameShop34=XXXXXXXXXXXXX
set NameShop35=XXXXXXXXXXXXX
set NameShop36=XXXXXXXXXXXXX
set NameShop37=XXXXXXXXXXXXX
set NameShop38=XXXXXXXXXXXXX
set NameShop39=XXXXXXXXXXXXX
set NameShop40=XXXXXXXXXXXXX
set NameShop41=XXXXXXXXXXXXX
set NameShop42=XXXXXXXXXXXXX
set NameShop43=XXXXXXXXXXXXX
set NameShop44=XXXXXXXXXXXXX
set NameShop45=XXXXXXXXXXXXX
set NameShop46=XXXXXXXXXXXXX
set NameShop47=XXXXXXXXXXXXX
set NameShop48=XXXXXXXXXXXXX
set NameShop49=XXXXXXXXXXXXX
set NameShop50=XXXXXXXXXXXXX
set NameShop51=XXXXXXXXXXXXX
set NameShop52=XXXXXXXXXXXXX
Set NameShop53=XXXXXXXXXXXXX
Set NameShop54=XXXXXXXXXXXXX
Set NameShop55=XXXXXXXXXXXXX
Set NameShop56=XXXXXXXXXXXXX
Set NameShop57=XXXXXXXXXXXXX
Set NameShop58=XXXXXXXXXXXXX
set NameShop59=XXXXXXXXXXXXX
set NameShop60=XXXXXXXXXXXXX
set NameShop61=XXXXXXXXXXXXX
set NameShop62=XXXXXXXXXXXXX
set NameShop63=XXXXXXXXXXXXX
set NameShop64=XXXXXXXXXXXXX
set NameShop65=XXXXXXXXXXXXX
set NameShop66=XXXXXXXXXXXXX
set NameShop255=XXXXXXXXXXXXX
set CyrrilicNameShop1=Назва
set CyrrilicNameShop2=Назва
set CyrrilicNameShop3=Назва
set CyrrilicNameShop4=Назва
set CyrrilicNameShop5=Назва
set CyrrilicNameShop6=Назва
set CyrrilicNameShop7=Назва
set CyrrilicNameShop8=Назва
set CyrrilicNameShop9=Назва
set CyrrilicNameShop10=Назва
set CyrrilicNameShop11=Назва
set CyrrilicNameShop12=Назва
set CyrrilicNameShop13=Назва
set CyrrilicNameShop14=Назва
set CyrrilicNameShop15=Назва
set CyrrilicNameShop16=Назва
set CyrrilicNameShop17=Назва
set CyrrilicNameShop18=Назва
set CyrrilicNameShop19=Назва
set CyrrilicNameShop20=Назва
set CyrrilicNameShop21=Назва
set CyrrilicNameShop22=Назва
set CyrrilicNameShop23=Назва
set CyrrilicNameShop24=Назва
set CyrrilicNameShop25=Назва
set CyrrilicNameShop26=Назва
set CyrrilicNameShop27=Назва
set CyrrilicNameShop28=Назва
set CyrrilicNameShop29=Назва
set CyrrilicNameShop30=Назва
set CyrrilicNameShop31=Назва
set CyrrilicNameShop32=Назва
set CyrrilicNameShop33=Назва
set CyrrilicNameShop34=Назва
set CyrrilicNameShop35=Назва
set CyrrilicNameShop36=Назва
set CyrrilicNameShop37=Назва
set CyrrilicNameShop38=Назва
set CyrrilicNameShop39=Назва
set CyrrilicNameShop40=Назва
set CyrrilicNameShop41=Назва
set CyrrilicNameShop42=Назва
set CyrrilicNameShop43=Назва
set CyrrilicNameShop44=Назва
set CyrrilicNameShop45=Назва
set CyrrilicNameShop46=Назва
set CyrrilicNameShop47=Назва
set CyrrilicNameShop48=Назва
set CyrrilicNameShop49=Назва
set CyrrilicNameShop50=Назва
set CyrrilicNameShop51=Назва
set CyrrilicNameShop52=Назва
set CyrrilicNameShop53=Назва
set CyrrilicNameShop54=Назва
set CyrrilicNameShop55=Назва
set CyrrilicNameShop56=Назва
set CyrrilicNameShop57=Назва
set CyrrilicNameShop58=Назва
set CyrrilicNameShop59=Назва
set CyrrilicNameShop60=Назва
set CyrrilicNameShop61=Назва
set CyrrilicNameShop62=Назва
set CyrrilicNameShop63=Назва
set CyrrilicNameShop64=Назва
set CyrrilicNameShop65=Назва
set CyrrilicNameShop66=Назва
set CyrrilicNameShop255=Назва
set URLEncodeNameShop1=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop2=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop3=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop4=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop5=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop6=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop7=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop8=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop9=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop10=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop11=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop12=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop13=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop14=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop15=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop16=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop17=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop18=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop19=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop20=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop21=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop22=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop23=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop24=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop25=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop26=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop27=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop28=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop29=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop30=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop31=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop32=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop33=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop34=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop35=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop36=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop37=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop38=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop39=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop40=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop41=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop42=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop43=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop44=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop45=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop46=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop47=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop48=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop49=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop50=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop51=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop52=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop53=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop54=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop55=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop56=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop57=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop58=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop59=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop60=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop61=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop62=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop63=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop64=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop65=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop66=%%D0%%9D%%D0%%B0%%D0%%B7%%D0%%B2%%D0%%B0
set URLEncodeNameShop255=%%D0%%A2%%D0%%95%%D0%%A1%%D0%%A2
rem Нижче нічого не задаємо
set GWCamFTP=
set GWCamPhone=
set GWCamEmail=
set GWCamPIR=
set UPCamFTP=
set UPCamPhone=
set UPCamEmail=
set UPCamPIR=
set SC1CamFTP=
set SC1CamPhone=
set SC1CamEmail=
set SC1CamPIR=
set SC2CamFTP=
set SC2CamPhone=
set SC2CamEmail=
set SC2CamPIR=

:START-MENU
CLS
color 02
echo      ************************************************************************************************************
echo                                             DAHUA HTTP API CONFIGURATOR\CONTROLER
echo      ************************************************************************************************************
echo                                              Стартове меню вибору режиму роботи. 
echo      ************************************************************************************************************
echo      1 - Режим налаштувань камер                                                   Coded by: Roman Pereviznyk
echo      2 - Управління NVR                                                            E-mail:   romawkafor@gmail.com
echo      -----------------------------------------------------------------------------------------------------------
echo. 
echo. 
echo. 
echo. 
echo. 
echo. 
echo. 
echo. 
echo. 
echo. 
echo. 
echo. 
echo. 
echo.
echo. 
echo. 
echo. 
echo. 
echo.
echo.
echo      p - Вихід
CHOICE /N /C 12p
if %errorlevel%==1 GoTO MENU-0
if %errorlevel%==2 GoTo MENU-1
if %errorlevel%==3 GoTO DelandExit







:MENU-0
CLS
rem Червоний Колір
color 4F 
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                                       Головне меню. 
echo      ************************************************************************************************************
echo      0 - Очистити всі змінні.
echo      1 - Задати тимчасовий пароль                                  Заданий - "%TempPass%"
echo      2 - Задати постійний пароль                                   Заданий - "%RegularPass%"
echo      3 - Задати MTU                                                Заданий - "%MTU%"
echo      4 - Задати мережу                                             Задана  - "%NetworkIP%%Subnet%.0"
echo. 
echo      -----------------------------------------------------------------------------------------------------------
echo      a - Задати підмережу                                          Задана - "%Subnet%"
echo      s - Задати ім'я машини (Назва магазину латинкою)              Задане - "%MashineName%"
echo      d - Задати титульне ім'я (Назва магазину кирилицею)           Задане - "%ShowTitleName%"
echo      f - Задати Логін та Пароль для FTP                            Логін:%FTPLogin%
echo                                                                    Пароль:%FTPPass%
echo.
echo      g - Задати режим роботи                                       Відкриття: %startworkday%
echo                                                                    Закриття:  %endworkday%
echo.
echo      -----------------------------------------------------------------------------------------------------------
echo      q - Налаштувати камеру %NetworkIP%%Subnet%.%TempCamIP1%            5 - Змінити тимчасову IP; z - Змінити IP яка буде призначена
echo      w - Налаштувати камеру %NetworkIP%%Subnet%.%TempCamIP2%            6 - Змінити тимчасову IP; y - Змінити IP яка буде призначена
echo      e - Налаштувати камеру %NetworkIP%%Subnet%.%TempCamIP3%            7 - Змінити тимчасову IP; c - Змінити IP яка буде призначена
echo      r - Налаштувати камеру %NetworkIP%%Subnet%.%TempCamIP4%            8 - Змінити тимчасову IP; v - Змінити IP яка буде призначена
echo.
echo.
echo      9 - Змінити режим роботи програми  (Настройка камер/Управління NVR)
echo      p - Вихід
CHOICE /N /C 0123asdfgqwerp45678zxcv9
if %errorlevel%==1 GoTO ClearVAR
if %errorlevel%==2 GoTo SetTempPass
if %errorlevel%==3 GoTO SetRegularPass
if %errorlevel%==4 GoTo SetMTU
if %errorlevel%==5 GoTO SetSubnet
if %errorlevel%==6 GoTo SetMashineName
if %errorlevel%==7 GoTO SetTitleName
if %errorlevel%==8 GoTo SetFTPCredential
if %errorlevel%==9 GoTO SetSchedule
if %errorlevel%==10 GoTo ConfigGWCam
if %errorlevel%==11 GoTO ConfigUPCam
if %errorlevel%==12 GoTo ConfigSC1Cam
if %errorlevel%==13 GoTo ConfigSC2Cam
if %errorlevel%==14 GoTo DelandExit
if %errorlevel%==15 GoTo SetNetworkIP
if %errorlevel%==16 GoTo SetTempCamIP1
if %errorlevel%==17 GoTo SetTempCamIP2
if %errorlevel%==18 GoTo SetTempCamIP3
if %errorlevel%==19 GoTo SetTempCamIP4
if %errorlevel%==20 GoTo SetRegularCamIP1
if %errorlevel%==21 GoTo SetRegularCamIP2
if %errorlevel%==22 GoTo SetRegularCamIP3
if %errorlevel%==23 GoTo SetRegularCamIP4
if %errorlevel%==24 GoTo START-MENU


:MENU-1
cls
color f0
echo      ************************************************************************************************************
echo                                                DAHUA NVR Split Controler
echo      ************************************************************************************************************
echo                                                 Меню управління NVR
echo      ************************************************************************************************************
echo      1 - Управління NVR-ом General View  IP: %1NVRIP%
echo      2 - Управління NVR-ом Unpacking     IP: %2NVRIP%
echo      3 - Управління NVR-ом Show Case 1   IP: %3NVRIP%
echo      4 - Управління NVR-ом Show Case 2   IP: %4NVRIP%
echo.
echo.
echo      5 Додати користувача у всі NVRи
echo.
echo.
echo      9 - Змінити режим роботи програми  (Настройка камер/Управління NVR)
echo      p - Вихід
echo.
CHOICE /N /C 12349p5 /M "Виберіть дію описану вище ˄ ˄ ˄ ˄ ˄ ˄ ˄"
if %errorlevel%==1 GoTO GV-MENU
if %errorlevel%==2 GoTo UP-MENU
if %errorlevel%==3 GoTo SC1-MENU
if %errorlevel%==4 GoTo SC2-MENU
if %errorlevel%==5 GoTo START-MENU
if %errorlevel%==6 GoTo DelandExit
if %errorlevel%==7 GoTo AddUserNVRs




:SetNetworkIP
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                                    Зміна адреси мережі
echo      ************************************************************************************************************
echo      Введіть адресу мережі з якою необхідно працювати. Але введіть тільки перші 2 хекстети адреси. Третій хекстет
echo      задається окремо. В параметрі - Підмережа. Крапка в кінці обов'язкова! ХХХ.ХХХ.
echo      Приклад: 192.168. або 10.0. або 172.16.
echo.
echo.
echo      Зараз задана мережа: %NetworkIP%
echo      Адреса до 1-ї камери: %NetworkIP%%Subnet%.%TempCamIP1%
echo.
echo.
echo.
set /p NetworkIP=Введiть адресу мережі:
GoTO MENU-0




:SetTempCamIP1
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                          Зміна тимчасової адреси першої камери
echo      ************************************************************************************************************
echo      Введіть адресу яка зараз встановлена на камері. Ця адреса буде використовуватись для всіх команд які є в цій
echo      програмі.
echo      Приклад: 110 або 2 або 254
echo.
echo.
echo      Зараз задана адреса камери: %TempCamIP1%
echo      Адреса до камери: %NetworkIP%%Subnet%.%TempCamIP1%
echo.
echo.
echo.
set /p TempCamIP1=Введiть адресу камери:
GoTO MENU-0





:SetTempCamIP2
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                          Зміна тимчасової адреси другої камери
echo      ************************************************************************************************************
echo      Введіть адресу яка зараз встановлена на камері. Ця адреса буде використовуватись для всіх команд які є в цій
echo      програмі.
echo      Приклад: 110 або 2 або 254
echo.
echo.
echo      Зараз задана адреса камери: %TempCamIP2%
echo      Адреса до камери: %NetworkIP%%Subnet%.%TempCamIP2%
echo.
echo.
echo.
set /p TempCamIP2=Введiть адресу камери:
GoTO MENU-0




:SetTempCamIP3
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                          Зміна тимчасової адреси третьої камери
echo      ************************************************************************************************************
echo      Введіть адресу яка зараз встановлена на камері. Ця адреса буде використовуватись для всіх команд які є в цій
echo      програмі.
echo      Приклад: 110 або 2 або 254
echo.
echo.
echo      Зараз задана адреса камери: %TempCamIP3%
echo      Адреса до камери: %NetworkIP%%Subnet%.%TempCamIP3%
echo.
echo.
echo.
set /p TempCamIP3=Введiть адресу камери:
GoTO MENU-0


:SetTempCamIP4
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                          Зміна тимчасової адреси четвертої камери
echo      ************************************************************************************************************
echo      Введіть адресу яка зараз встановлена на камері. Ця адреса буде використовуватись для всіх команд які є в цій
echo      програмі.
echo      Приклад: 110 або 2 або 254
echo.
echo.
echo      Зараз задана адреса камери: %TempCamIP4%
echo      Адреса до камери: %NetworkIP%%Subnet%.%TempCamIP4%
echo.
echo.
echo.
set /p TempCamIP4=Введiть адресу камери:
GoTO MENU-0


:SetRegularCamIP1
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                          Зміна постійної адреси першої камери
echo      ************************************************************************************************************
echo      Введіть адресу яка буде встановлена на камері після виклику відповідної команди. Ця адреса буде використо-
echo      вуватись для команди яка змінить IP-адресу з тимчасової на постійну.
echo.
echo      Приклад: 10 або 2 або 254
echo.
echo.
echo      Зараз задана адреса яка буде на камері: %RegularCamIP1%
echo      Повна адреса яка буде до камери: %NetworkIP%%Subnet%.%RegularCamIP1%
echo.
echo.
echo.
set /p RegularCamIP1=Введiть адресу камери:
GoTO MENU-0

:SetRegularCamIP2
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                          Зміна постійної адреси другої камери
echo      ************************************************************************************************************
echo      Введіть адресу яка буде встановлена на камері після виклику відповідної команди. Ця адреса буде використо-
echo      вуватись для команди яка змінить IP-адресу з тимчасової на постійну.
echo.
echo      Приклад: 10 або 2 або 254
echo.
echo.
echo      Зараз задана адреса яка буде на камері: %RegularCamIP2%
echo      Повна адреса яка буде до камери: %NetworkIP%%Subnet%.%RegularCamIP2%
echo.
echo.
echo.
set /p RegularCamIP2=Введiть адресу камери:
GoTO MENU-0

:SetRegularCamIP3
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                          Зміна постійної адреси третьої камери
echo      ************************************************************************************************************
echo      Введіть адресу яка буде встановлена на камері після виклику відповідної команди. Ця адреса буде використо-
echo      вуватись для команди яка змінить IP-адресу з тимчасової на постійну.
echo.
echo      Приклад: 10 або 2 або 254
echo.
echo.
echo      Зараз задана адреса яка буде на камері: %RegularCamIP3%
echo      Повна адреса яка буде до камери: %NetworkIP%%Subnet%.%RegularCamIP3%
echo.
echo.
echo.
set /p RegularCamIP3=Введiть адресу камери:
GoTO MENU-0


:SetRegularCamIP4
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                          Зміна постійної адреси четвертої камери
echo      ************************************************************************************************************
echo      Введіть адресу яка буде встановлена на камері після виклику відповідної команди. Ця адреса буде використо-
echo      вуватись для команди яка змінить IP-адресу з тимчасової на постійну.
echo.
echo      Приклад: 10 або 2 або 254
echo.
echo.
echo      Зараз задана адреса яка буде на камері: %RegularCamIP4%
echo      Повна адреса яка буде до камери: %NetworkIP%%Subnet%.%RegularCamIP4%
echo.
echo.
echo.
set /p RegularCamIP4=Введiть адресу камери:
GoTO MENU-0








:ClearVAR
set Subnet=XXX
Set NetworkIP=10.0.
set TempPass=Aa142358
Set RegularPass=Tvvf14235867
Set MTU=1422
set startworkday=08:00
set endworkday=20:00
set FTPLogin=-
set FTPPass=-
set MashineName=-
set TitleName=-
set ShowTitleName=-
set GWCamFTP=
set GWCamPhone=
set GWCamEmail=
set GWCamPIR=
set UPCamFTP=
set UPCamPhone=
set UPCamEmail=
set UPCamPIR=
set SC1CamFTP=
set SC1CamPhone=
set SC1CamEmail=
set SC1CamPIR=
set SC2CamFTP=
set SC2CamPhone=
set SC2CamEmail=
set SC2CamPIR=
set TempCamIP1=110
set TempCamIP2=120
set TempCamIP3=130
set TempCamIP4=140
set RegularCamIP1=10
set RegularCamIP2=20
set RegularCamIP3=30
set RegularCamIP4=40
set PingAdress=10.0.0.10



GoTO MENU-0


:SetTempPass
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                                     Тимчасовий пароль. 
echo      ************************************************************************************************************
echo      Введіть пароль з яким будуть виконуватися всі команди.
echo      Цей пароль був заданий при первинній ініціалізації камери в програмі IPConfig
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
set /p TempPass=Введiть пароль:
GoTO MENU-0


:SetRegularPass
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                                     Постійний пароль. 
echo      ************************************************************************************************************
echo      Введіть пароль який буде встановлений на камеру в кінці налаштувань.
echo.   
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
set /p RegularPass=Введiть пароль:
GoTO MENU-0


:SetMTU
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                                         Зміна MTU 
echo      ************************************************************************************************************
echo      Введіть максимальний розмір пакету без фрагментації "MTU"
echo      Потім виберіть:
echo					0 - Задати MTU без перевірки
echo					1 - Перевірити PING-ом
echo      Якщо перевірка буде неуспішною програма запропоную вам знову ввести значення MTU. Слід вводити нижче значен-
echo      ня. Як тільки значення буде коректним програма вийде в головне меню.
echo.
echo.
echo.
echo.
set /p MTU=Введiть MTU:
CHOICE /N /T 10 /C 01 /D 0 /M "Продовжити - 0, Перевірити - 1"
if %errorlevel%==1 GoTo MENU-0
ping %PingAdress% -t -l %MTU% -f -n 1
if %errorlevel%==0 GoTo MENU-0
if %errorlevel%==1 GoTo MTUtoBig
:MTUtoBig
cls
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                                !!!Значення MTU завелике!!!
echo      ************************************************************************************************************
echo      Вкажіть менше значення MTU
echo.	  
echo.	  
echo.
echo.
echo.
echo.
echo.
echo.
echo.
set /p MTU=Введiть MTU:
ping %PingAdress% -t -l %MTU% -f -n 1
if %errorlevel%==0 GoTo MENU-0
if %errorlevel%==1 GoTo MTUtoBig




:SetSubnet
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                                       Підмережа 
echo      ************************************************************************************************************
echo      Введіть адресу підмережі. Це третій хекстет вашої локальної IP-адреси.
echo      Нижче вказана адреса шлюзу. Вкажіть підмережу спираючись на адресу шлюзу.
    ipconfig | findstr /i "Gateway"
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
set /p Subnet=Введiть підмережу:
set subnetset=YES
set /a Subnet=%Subnet%
if %Subnet%==1 Set FTPPass=%passwordshop1%
if %Subnet%==2 Set FTPPass=%passwordshop2%
if %Subnet%==3 Set FTPPass=%passwordshop3%
if %Subnet%==4 Set FTPPass=%passwordshop4%
if %Subnet%==5 Set FTPPass=%passwordshop5%
if %Subnet%==6 Set FTPPass=%passwordshop6%
if %Subnet%==7 Set FTPPass=%passwordshop7%
if %Subnet%==8 Set FTPPass=%passwordshop8%
if %Subnet%==9 Set FTPPass=%passwordshop9%
if %Subnet%==10 Set FTPPass=%passwordshop10%
if %Subnet%==11 Set FTPPass=%passwordshop11%
if %Subnet%==12 Set FTPPass=%passwordshop12%
if %Subnet%==13 Set FTPPass=%passwordshop13%
if %Subnet%==14 Set FTPPass=%passwordshop14%
if %Subnet%==15 Set FTPPass=%passwordshop15%
if %Subnet%==16 Set FTPPass=%passwordshop16%
if %Subnet%==17 Set FTPPass=%passwordshop17%
if %Subnet%==18 Set FTPPass=%passwordshop18%
if %Subnet%==19 Set FTPPass=%passwordshop19%
if %Subnet%==20 Set FTPPass=%passwordshop20%
if %Subnet%==21 Set FTPPass=%passwordshop21%
if %Subnet%==22 Set FTPPass=%passwordshop22%
if %Subnet%==23 Set FTPPass=%passwordshop23%
if %Subnet%==24 Set FTPPass=%passwordshop24%
if %Subnet%==25 Set FTPPass=%passwordshop25%
if %Subnet%==26 Set FTPPass=%passwordshop26%
if %Subnet%==27 Set FTPPass=%passwordshop27%
if %Subnet%==28 Set FTPPass=%passwordshop28%
if %Subnet%==29 Set FTPPass=%passwordshop29%
if %Subnet%==30 Set FTPPass=%passwordshop30%
if %Subnet%==31 Set FTPPass=%passwordshop31%
if %Subnet%==32 Set FTPPass=%passwordshop32%
if %Subnet%==33 Set FTPPass=%passwordshop33%
if %Subnet%==34 Set FTPPass=%passwordshop34%
if %Subnet%==35 Set FTPPass=%passwordshop35%
if %Subnet%==36 Set FTPPass=%passwordshop36%
if %Subnet%==37 Set FTPPass=%passwordshop37%
if %Subnet%==38 Set FTPPass=%passwordshop38%
if %Subnet%==39 Set FTPPass=%passwordshop39%
if %Subnet%==40 Set FTPPass=%passwordshop40%
if %Subnet%==41 Set FTPPass=%passwordshop41%
if %Subnet%==42 Set FTPPass=%passwordshop42%
if %Subnet%==43 Set FTPPass=%passwordshop43%
if %Subnet%==44 Set FTPPass=%passwordshop44%
if %Subnet%==45 Set FTPPass=%passwordshop45%
if %Subnet%==46 Set FTPPass=%passwordshop46%
if %Subnet%==47 Set FTPPass=%passwordshop47%
if %Subnet%==48 Set FTPPass=%passwordshop48%
if %Subnet%==49 Set FTPPass=%passwordshop49%
if %Subnet%==50 Set FTPPass=%passwordshop50%
if %Subnet%==51 Set FTPPass=%passwordshop51%
if %Subnet%==52 Set FTPPass=%passwordshop52%
if %Subnet%==53 Set FTPPass=%passwordshop53%
if %Subnet%==54 Set FTPPass=%passwordshop54%
if %Subnet%==55 Set FTPPass=%passwordshop55%
if %Subnet%==56 Set FTPPass=%passwordshop56%
if %Subnet%==57 Set FTPPass=%passwordshop57%
if %Subnet%==58 Set FTPPass=%passwordshop58%
if %Subnet%==59 Set FTPPass=%passwordshop59%
if %Subnet%==60 Set FTPPass=%passwordshop60%
if %Subnet%==61 Set FTPPass=%passwordshop61%
if %Subnet%==62 Set FTPPass=%passwordshop62%
if %Subnet%==63 Set FTPPass=%passwordshop63%
if %Subnet%==64 Set FTPPass=%passwordshop64%
if %Subnet%==65 Set FTPPass=%passwordshop65%
if %Subnet%==66 Set FTPPass=%passwordshop66%
if %Subnet%==255 Set FTPPass=%passwordshop255%
if %Subnet%==1 Set FTPLogin=%NameShop1%
if %Subnet%==2 Set FTPLogin=%NameShop2%
if %Subnet%==3 Set FTPLogin=%NameShop3%
if %Subnet%==4 Set FTPLogin=%NameShop4%
if %Subnet%==5 Set FTPLogin=%NameShop5%
if %Subnet%==6 Set FTPLogin=%NameShop6%
if %Subnet%==7 Set FTPLogin=%NameShop7%
if %Subnet%==8 Set FTPLogin=%NameShop8%
if %Subnet%==9 Set FTPLogin=%NameShop9%
if %Subnet%==10 Set FTPLogin=%NameShop10%
if %Subnet%==11 Set FTPLogin=%NameShop11%
if %Subnet%==12 Set FTPLogin=%NameShop12%
if %Subnet%==13 Set FTPLogin=%NameShop13%
if %Subnet%==14 Set FTPLogin=%NameShop14%
if %Subnet%==15 Set FTPLogin=%NameShop15%
if %Subnet%==16 Set FTPLogin=%NameShop16%
if %Subnet%==17 Set FTPLogin=%NameShop17%
if %Subnet%==18 Set FTPLogin=%NameShop18%
if %Subnet%==19 Set FTPLogin=%NameShop19%
if %Subnet%==20 Set FTPLogin=%NameShop20%
if %Subnet%==21 Set FTPLogin=%NameShop21%
if %Subnet%==22 Set FTPLogin=%NameShop22%
if %Subnet%==23 Set FTPLogin=%NameShop23%
if %Subnet%==24 Set FTPLogin=%NameShop24%
if %Subnet%==25 Set FTPLogin=%NameShop25%
if %Subnet%==26 Set FTPLogin=%NameShop26%
if %Subnet%==27 Set FTPLogin=%NameShop27%
if %Subnet%==28 Set FTPLogin=%NameShop28%
if %Subnet%==29 Set FTPLogin=%NameShop29%
if %Subnet%==30 Set FTPLogin=%NameShop30%
if %Subnet%==31 Set FTPLogin=%NameShop31%
if %Subnet%==32 Set FTPLogin=%NameShop32%
if %Subnet%==33 Set FTPLogin=%NameShop33%
if %Subnet%==34 Set FTPLogin=%NameShop34%
if %Subnet%==35 Set FTPLogin=%NameShop35%
if %Subnet%==36 Set FTPLogin=%NameShop36%
if %Subnet%==37 Set FTPLogin=%NameShop37%
if %Subnet%==38 Set FTPLogin=%NameShop38%
if %Subnet%==39 Set FTPLogin=%NameShop39%
if %Subnet%==40 Set FTPLogin=%NameShop40%
if %Subnet%==41 Set FTPLogin=%NameShop41%
if %Subnet%==42 Set FTPLogin=%NameShop42%
if %Subnet%==43 Set FTPLogin=%NameShop43%
if %Subnet%==44 Set FTPLogin=%NameShop44%
if %Subnet%==45 Set FTPLogin=%NameShop45%
if %Subnet%==46 Set FTPLogin=%NameShop46%
if %Subnet%==47 Set FTPLogin=%NameShop47%
if %Subnet%==48 Set FTPLogin=%NameShop48%
if %Subnet%==49 Set FTPLogin=%NameShop49%
if %Subnet%==50 Set FTPLogin=%NameShop50%
if %Subnet%==51 Set FTPLogin=%NameShop51%
if %Subnet%==52 Set FTPLogin=%NameShop52%
if %Subnet%==53 Set FTPLogin=%NameShop53%
if %Subnet%==54 Set FTPLogin=%NameShop54%
if %Subnet%==55 Set FTPLogin=%NameShop55%
if %Subnet%==56 Set FTPLogin=%NameShop56%
if %Subnet%==57 Set FTPLogin=%NameShop57%
if %Subnet%==58 Set FTPLogin=%NameShop58%
if %Subnet%==59 Set FTPLogin=%NameShop59%
if %Subnet%==60 Set FTPLogin=%NameShop60%
if %Subnet%==61 Set FTPLogin=%NameShop61%
if %Subnet%==62 Set FTPLogin=%NameShop62%
if %Subnet%==63 Set FTPLogin=%NameShop63%
if %Subnet%==64 Set FTPLogin=%NameShop64%
if %Subnet%==65 Set FTPLogin=%NameShop65%
if %Subnet%==66 Set FTPLogin=%NameShop66%
if %Subnet%==255 Set FTPLogin=%NameShop255%
if %Subnet%==1 Set MashineName=%NameShop1%
if %Subnet%==2 Set MashineName=%NameShop2%
if %Subnet%==3 Set MashineName=%NameShop3%
if %Subnet%==4 Set MashineName=%NameShop4%
if %Subnet%==5 Set MashineName=%NameShop5%
if %Subnet%==6 Set MashineName=%NameShop6%
if %Subnet%==7 Set MashineName=%NameShop7%
if %Subnet%==8 Set MashineName=%NameShop8%
if %Subnet%==9 Set MashineName=%NameShop9%
if %Subnet%==10 Set MashineName=%NameShop10%
if %Subnet%==11 Set MashineName=%NameShop11%
if %Subnet%==12 Set MashineName=%NameShop12%
if %Subnet%==13 Set MashineName=%NameShop13%
if %Subnet%==14 Set MashineName=%NameShop14%
if %Subnet%==15 Set MashineName=%NameShop15%
if %Subnet%==16 Set MashineName=%NameShop16%
if %Subnet%==17 Set MashineName=%NameShop17%
if %Subnet%==18 Set MashineName=%NameShop18%
if %Subnet%==19 Set MashineName=%NameShop19%
if %Subnet%==20 Set MashineName=%NameShop20%
if %Subnet%==21 Set MashineName=%NameShop21%
if %Subnet%==22 Set MashineName=%NameShop22%
if %Subnet%==23 Set MashineName=%NameShop23%
if %Subnet%==24 Set MashineName=%NameShop24%
if %Subnet%==25 Set MashineName=%NameShop25%
if %Subnet%==26 Set MashineName=%NameShop26%
if %Subnet%==27 Set MashineName=%NameShop27%
if %Subnet%==28 Set MashineName=%NameShop28%
if %Subnet%==29 Set MashineName=%NameShop29%
if %Subnet%==30 Set MashineName=%NameShop30%
if %Subnet%==31 Set MashineName=%NameShop31%
if %Subnet%==32 Set MashineName=%NameShop32%
if %Subnet%==33 Set MashineName=%NameShop33%
if %Subnet%==34 Set MashineName=%NameShop34%
if %Subnet%==35 Set MashineName=%NameShop35%
if %Subnet%==36 Set MashineName=%NameShop36%
if %Subnet%==37 Set MashineName=%NameShop37%
if %Subnet%==38 Set MashineName=%NameShop38%
if %Subnet%==39 Set MashineName=%NameShop39%
if %Subnet%==40 Set MashineName=%NameShop40%
if %Subnet%==41 Set MashineName=%NameShop41%
if %Subnet%==42 Set MashineName=%NameShop42%
if %Subnet%==43 Set MashineName=%NameShop43%
if %Subnet%==44 Set MashineName=%NameShop44%
if %Subnet%==45 Set MashineName=%NameShop45%
if %Subnet%==46 Set MashineName=%NameShop46%
if %Subnet%==47 Set MashineName=%NameShop47%
if %Subnet%==48 Set MashineName=%NameShop48%
if %Subnet%==49 Set MashineName=%NameShop49%
if %Subnet%==50 Set MashineName=%NameShop50%
if %Subnet%==51 Set MashineName=%NameShop51%
if %Subnet%==52 Set MashineName=%NameShop52%
if %Subnet%==53 Set MashineName=%NameShop53%
if %Subnet%==54 Set MashineName=%NameShop54%
if %Subnet%==55 Set MashineName=%NameShop55%
if %Subnet%==56 Set MashineName=%NameShop56%
if %Subnet%==57 Set MashineName=%NameShop57%
if %Subnet%==58 Set MashineName=%NameShop58%
if %Subnet%==59 Set MashineName=%NameShop59%
if %Subnet%==60 Set MashineName=%NameShop60%
if %Subnet%==61 Set MashineName=%NameShop61%
if %Subnet%==62 Set MashineName=%NameShop62%
if %Subnet%==63 Set MashineName=%NameShop63%
if %Subnet%==64 Set MashineName=%NameShop64%
if %Subnet%==65 Set MashineName=%NameShop65%
if %Subnet%==66 Set MashineName=%NameShop66%
if %Subnet%==255 Set MashineName=%NameShop255%
if %Subnet%==1 Set ShowTitleName=%CyrrilicNameShop1%
if %Subnet%==2 Set ShowTitleName=%CyrrilicNameShop2%
if %Subnet%==3 Set ShowTitleName=%CyrrilicNameShop3%
if %Subnet%==4 Set ShowTitleName=%CyrrilicNameShop4%
if %Subnet%==5 Set ShowTitleName=%CyrrilicNameShop5%
if %Subnet%==6 Set ShowTitleName=%CyrrilicNameShop6%
if %Subnet%==7 Set ShowTitleName=%CyrrilicNameShop7%
if %Subnet%==8 Set ShowTitleName=%CyrrilicNameShop8%
if %Subnet%==9 Set ShowTitleName=%CyrrilicNameShop9%
if %Subnet%==10 Set ShowTitleName=%CyrrilicNameShop10%
if %Subnet%==11 Set ShowTitleName=%CyrrilicNameShop11%
if %Subnet%==12 Set ShowTitleName=%CyrrilicNameShop12%
if %Subnet%==13 Set ShowTitleName=%CyrrilicNameShop13%
if %Subnet%==14 Set ShowTitleName=%CyrrilicNameShop14%
if %Subnet%==15 Set ShowTitleName=%CyrrilicNameShop15%
if %Subnet%==16 Set ShowTitleName=%CyrrilicNameShop16%
if %Subnet%==17 Set ShowTitleName=%CyrrilicNameShop17%
if %Subnet%==18 Set ShowTitleName=%CyrrilicNameShop18%
if %Subnet%==19 Set ShowTitleName=%CyrrilicNameShop19%
if %Subnet%==20 Set ShowTitleName=%CyrrilicNameShop20%
if %Subnet%==21 Set ShowTitleName=%CyrrilicNameShop21%
if %Subnet%==22 Set ShowTitleName=%CyrrilicNameShop22%
if %Subnet%==23 Set ShowTitleName=%CyrrilicNameShop23%
if %Subnet%==24 Set ShowTitleName=%CyrrilicNameShop24%
if %Subnet%==25 Set ShowTitleName=%CyrrilicNameShop25%
if %Subnet%==26 Set ShowTitleName=%CyrrilicNameShop26%
if %Subnet%==27 Set ShowTitleName=%CyrrilicNameShop27%
if %Subnet%==28 Set ShowTitleName=%CyrrilicNameShop28%
if %Subnet%==29 Set ShowTitleName=%CyrrilicNameShop29%
if %Subnet%==30 Set ShowTitleName=%CyrrilicNameShop30%
if %Subnet%==31 Set ShowTitleName=%CyrrilicNameShop31%
if %Subnet%==32 Set ShowTitleName=%CyrrilicNameShop32%
if %Subnet%==33 Set ShowTitleName=%CyrrilicNameShop33%
if %Subnet%==34 Set ShowTitleName=%CyrrilicNameShop34%
if %Subnet%==35 Set ShowTitleName=%CyrrilicNameShop35%
if %Subnet%==36 Set ShowTitleName=%CyrrilicNameShop36%
if %Subnet%==37 Set ShowTitleName=%CyrrilicNameShop37%
if %Subnet%==38 Set ShowTitleName=%CyrrilicNameShop38%
if %Subnet%==39 Set ShowTitleName=%CyrrilicNameShop39%
if %Subnet%==40 Set ShowTitleName=%CyrrilicNameShop40%
if %Subnet%==41 Set ShowTitleName=%CyrrilicNameShop41%
if %Subnet%==42 Set ShowTitleName=%CyrrilicNameShop42%
if %Subnet%==43 Set ShowTitleName=%CyrrilicNameShop43%
if %Subnet%==44 Set ShowTitleName=%CyrrilicNameShop44%
if %Subnet%==45 Set ShowTitleName=%CyrrilicNameShop45%
if %Subnet%==46 Set ShowTitleName=%CyrrilicNameShop46%
if %Subnet%==47 Set ShowTitleName=%CyrrilicNameShop47%
if %Subnet%==48 Set ShowTitleName=%CyrrilicNameShop48%
if %Subnet%==49 Set ShowTitleName=%CyrrilicNameShop49%
if %Subnet%==50 Set ShowTitleName=%CyrrilicNameShop50%
if %Subnet%==51 Set ShowTitleName=%CyrrilicNameShop51%
if %Subnet%==52 Set ShowTitleName=%CyrrilicNameShop52%
if %Subnet%==53 Set ShowTitleName=%CyrrilicNameShop53%
if %Subnet%==54 Set ShowTitleName=%CyrrilicNameShop54%
if %Subnet%==55 Set ShowTitleName=%CyrrilicNameShop55%
if %Subnet%==56 Set ShowTitleName=%CyrrilicNameShop56%
if %Subnet%==57 Set ShowTitleName=%CyrrilicNameShop57%
if %Subnet%==58 Set ShowTitleName=%CyrrilicNameShop58%
if %Subnet%==59 Set ShowTitleName=%CyrrilicNameShop59%
if %Subnet%==60 Set ShowTitleName=%CyrrilicNameShop60%
if %Subnet%==61 Set ShowTitleName=%CyrrilicNameShop61%
if %Subnet%==62 Set ShowTitleName=%CyrrilicNameShop62%
if %Subnet%==63 Set ShowTitleName=%CyrrilicNameShop63%
if %Subnet%==64 Set ShowTitleName=%CyrrilicNameShop64%
if %Subnet%==65 Set ShowTitleName=%CyrrilicNameShop65%
if %Subnet%==66 Set ShowTitleName=%CyrrilicNameShop66%
if %Subnet%==255 Set ShowTitleName=%CyrrilicNameShop255%
if %Subnet%==1 Set TitleName=%URLEncodeNameShop1%
if %Subnet%==2 Set TitleName=%URLEncodeNameShop2%
if %Subnet%==3 Set TitleName=%URLEncodeNameShop3%
if %Subnet%==4 Set TitleName=%URLEncodeNameShop4%
if %Subnet%==5 Set TitleName=%URLEncodeNameShop5%
if %Subnet%==6 Set TitleName=%URLEncodeNameShop6%
if %Subnet%==7 Set TitleName=%URLEncodeNameShop7%
if %Subnet%==8 Set TitleName=%URLEncodeNameShop8%
if %Subnet%==9 Set TitleName=%URLEncodeNameShop9%
if %Subnet%==10 Set TitleName=%URLEncodeNameShop10%
if %Subnet%==11 Set TitleName=%URLEncodeNameShop11%
if %Subnet%==12 Set TitleName=%URLEncodeNameShop12%
if %Subnet%==13 Set TitleName=%URLEncodeNameShop13%
if %Subnet%==14 Set TitleName=%URLEncodeNameShop14%
if %Subnet%==15 Set TitleName=%URLEncodeNameShop15%
if %Subnet%==16 Set TitleName=%URLEncodeNameShop16%
if %Subnet%==17 Set TitleName=%URLEncodeNameShop17%
if %Subnet%==18 Set TitleName=%URLEncodeNameShop18%
if %Subnet%==19 Set TitleName=%URLEncodeNameShop19%
if %Subnet%==20 Set TitleName=%URLEncodeNameShop20%
if %Subnet%==21 Set TitleName=%URLEncodeNameShop21%
if %Subnet%==22 Set TitleName=%URLEncodeNameShop22%
if %Subnet%==23 Set TitleName=%URLEncodeNameShop23%
if %Subnet%==24 Set TitleName=%URLEncodeNameShop24%
if %Subnet%==25 Set TitleName=%URLEncodeNameShop25%
if %Subnet%==26 Set TitleName=%URLEncodeNameShop26%
if %Subnet%==27 Set TitleName=%URLEncodeNameShop27%
if %Subnet%==28 Set TitleName=%URLEncodeNameShop28%
if %Subnet%==29 Set TitleName=%URLEncodeNameShop29%
if %Subnet%==30 Set TitleName=%URLEncodeNameShop30%
if %Subnet%==31 Set TitleName=%URLEncodeNameShop31%
if %Subnet%==32 Set TitleName=%URLEncodeNameShop32%
if %Subnet%==33 Set TitleName=%URLEncodeNameShop33%
if %Subnet%==34 Set TitleName=%URLEncodeNameShop34%
if %Subnet%==35 Set TitleName=%URLEncodeNameShop35%
if %Subnet%==36 Set TitleName=%URLEncodeNameShop36%
if %Subnet%==37 Set TitleName=%URLEncodeNameShop37%
if %Subnet%==38 Set TitleName=%URLEncodeNameShop38%
if %Subnet%==39 Set TitleName=%URLEncodeNameShop39%
if %Subnet%==40 Set TitleName=%URLEncodeNameShop40%
if %Subnet%==41 Set TitleName=%URLEncodeNameShop41%
if %Subnet%==42 Set TitleName=%URLEncodeNameShop42%
if %Subnet%==43 Set TitleName=%URLEncodeNameShop43%
if %Subnet%==44 Set TitleName=%URLEncodeNameShop44%
if %Subnet%==45 Set TitleName=%URLEncodeNameShop45%
if %Subnet%==46 Set TitleName=%URLEncodeNameShop46%
if %Subnet%==47 Set TitleName=%URLEncodeNameShop47%
if %Subnet%==48 Set TitleName=%URLEncodeNameShop48%
if %Subnet%==49 Set TitleName=%URLEncodeNameShop49%
if %Subnet%==50 Set TitleName=%URLEncodeNameShop50%
if %Subnet%==51 Set TitleName=%URLEncodeNameShop51%
if %Subnet%==52 Set TitleName=%URLEncodeNameShop52%
if %Subnet%==53 Set TitleName=%URLEncodeNameShop53%
if %Subnet%==54 Set TitleName=%URLEncodeNameShop54%
if %Subnet%==55 Set TitleName=%URLEncodeNameShop55%
if %Subnet%==56 Set TitleName=%URLEncodeNameShop56%
if %Subnet%==57 Set TitleName=%URLEncodeNameShop57%
if %Subnet%==58 Set TitleName=%URLEncodeNameShop58%
if %Subnet%==59 Set TitleName=%URLEncodeNameShop59%
if %Subnet%==60 Set TitleName=%URLEncodeNameShop60%
if %Subnet%==61 Set TitleName=%URLEncodeNameShop61%
if %Subnet%==62 Set TitleName=%URLEncodeNameShop62%
if %Subnet%==63 Set TitleName=%URLEncodeNameShop63%
if %Subnet%==64 Set TitleName=%URLEncodeNameShop64%
if %Subnet%==65 Set TitleName=%URLEncodeNameShop65%
if %Subnet%==66 Set TitleName=%URLEncodeNameShop66%
if %Subnet%==255 Set TitleName=%URLEncodeNameShop255%
GoTO MENU-0
:SetMashineName
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                                  Назва магазину латинкою 
echo      ************************************************************************************************************
echo      Введіть назву магазину латинськими літерами.
echo      Наприклад: Stryi_pl_Rynok_36
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
set /p MashineName=Введiть назву магазину латинськими літерами:
GoTO MENU-0
:SetTitleName
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                           Назва магазину кирилицею та в Urlencode 
echo      ************************************************************************************************************
echo      Введіть назву магазину кириличними літерами та натисніть "Enter". Після чого відкриється сайт на якому вам
echo      необхідно вставити з буфера обміну "Ctrl+V" щойно введену назву магазину, та нажати кнопку "Encode".
echo      Результат скопіюйте та вставте сюди.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
set /p ShowTitleName=Введiть назву магазину кириличними літерами:
echo %ShowTitleName%|clip
start https://urlencode.org/
set /p TitleName=Введiть назву магазину в Urlencode:
GoTO MENU-0
:SetFTPCredential
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                                Логін та пароль для FTP
echo      ************************************************************************************************************
echo      Введіть логін та пароль які буде використано для підключення до FTP.
echo      Скопіюйте їх з щойно відкритого документа
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
start FTP.txt
set /p FTPLogin=Введiть логін:
set /p FTPPass=Введiть пароль:
GoTO MENU-0
:SetSchedule
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                                       Режим роботи
echo      ************************************************************************************************************
echo      Введіть час відкриття та закриття в форматі ГГ:ХХ
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
echo.
set /p startworkday=Введiть час відриття магазину:
set /p endworkday=Введiть час закриття магазину:
GoTO MENU-0

:ConfigGWCam
cls
color b0
set GWCamFTP=
set GWCamPhone=
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                           Меню налаштування камери %NetworkIP%%Subnet%.%TempCamIP1%
echo      ************************************************************************************************************
if not defined subnetset echo Не задана підмережа. Подальші дії без цього параметра марні.
if not defined subnetset Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито налаштування підмережі"
if not defined subnetset GoTo SetSubnet
echo      0 - Авто налаштування
echo      1 - Лише зніна IP-адреси та паролю.
echo      2 - Зміна кожного конкретного параметру поодинці
echo      3 - Інфо про MicroSD
echo      4 - Перезавантажити камеру
echo      5 - Зробити скріншот
echo      p - Вихід в головне меню
echo.
echo.
echo.
echo.
CHOICE /N /C 012p345 /M "Виберіть дію описану вище ˄ ˄ ˄ ˄ ˄ ˄ ˄"
if %errorlevel%==1 GoTO GWCamAutoConfigure
if %errorlevel%==2 GoTo GWCamIP&PASSConfigure
if %errorlevel%==3 GoTo GWCamSinglyConfigurefirst
if %errorlevel%==4 GoTo MENU-0
if %errorlevel%==5 GoTo GWCamGetMicroSD
if %errorlevel%==6 GoTo GWCamReboot
if %errorlevel%==7 GoTo GWGetSnapshotandSendfromEmail


:GWCamGetMicroSD
Echo     Перевіряю присутність MicroSD
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/storageDevice.cgi?action=factory.getCollect"
CHOICE /N /T 15 /C yn /D n /M "Показати детальну інформацію про MicroSD?  Так - y, Нi - n"
if %errorlevel%==2 GoTo GWCamSkipAllInfoMicroSD
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/storageDevice.cgi?action=getDeviceAllInfo"
Choice /N /T 20 /D N /M "Через 20 сек. буде відкрито попереднє меню"
GoTO ConfigGWCam
:GWCamSkipAllInfoMicroSD
GoTo ConfigGWCam



:GWCamReboot
Echo     Перезавантажую камеру
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/magicBox.cgi?action=reboot"
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито головне меню"
GoTO MENU-0



:GWGetSnapshotandSendfromEmail
set GWFileName=Загальний вид %ShowTitleName%.jpg
set GWMailSubject=Фото з камер - %ShowTitleName%
set GWMailBody=Час надсилання: %TIME:~0,2%:%TIME:~3,2% Камера: Загальний вид
set GWMailAttach=%TempDirectory%\%GWFileName%
curl -o "%TempDirectory%\%GWFileName%" --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/snapshot.cgi?"
CHOICE /N /T 30 /C ynr /D n /M "Надiслати Фото через E-mail?  Так - y, Нi - n, Так, на mailreciver@gmail.com - r"
if %errorlevel%==2 GoTo ConfigGWCam
if %errorlevel%==1 set /p GWMailTo=Введiть пошту на яку вiдправити архiв:
if %errorlevel%==1 Goto GWSendTo
if %errorlevel%==3 Goto GWSendToRomanKret
:GWSendTo
mailalert  -r "%GWMailTo%" -s "%GWMailSubject%" -b "%GWMailBody%" -a "%GWMailAttach%"
GoTo ConfigGWCam
:GWSendToRomanKret
set GWMailTo=mailreciver@gmail.com
mailalert  -r "%GWMailTo%" -s "%GWMailSubject%" -b "%GWMailBody%" -a "%GWMailAttach%"
GoTo ConfigGWCam





:GWCamAutoConfigure
CHOICE /N /C yn /M "Чи відправляє ця камера фото на FTP?  Так - y, Нi - n"
if %errorlevel%==1 set GWCamFTP=YES
if defined GWCamFTP CHOICE /N /C yn /M "Чи основний об'єкт - телефони?  Так - y, Нi - n"
if %errorlevel%==1 set GWCamPhone=YES
CHOICE /N /T 30 /C yn /D y /M "Чи налаштувати E-mail?  Так - y, Нi - n"
if %errorlevel%==1 set GWCamEmail=YES
CHOICE /N /T 30 /C yn /D y /M "Чи налаштувати PIR-сповіщення про відкриття ТТ?  Так - y, Нi - n"
if %errorlevel%==1 set GWCamPIR=YES
if defined GWCamPIR set /p PIRWorkDayStart=Введiть час відриття магазину в будні за мінусом 10 хв (08:50):
if defined GWCamPIR set /p PIRWorkDayEnd=Тепер введіть час закінчення періоду роботи PIR в будні + 119 хв (10:49):
if defined GWCamPIR set /p PIRSatStart=Введiть час відриття магазину в суботу за мінусом 10 хв (08:50):
if defined GWCamPIR set /p PIRSatEnd=Тепер введіть час закінчення періоду роботи PIR в суботу + 119 хв (10:49):
if defined GWCamPIR set /p PIRSunStart=Введiть час відриття магазину в неділю за мінусом 10 хв (09:50):
if defined GWCamPIR set /p PIRSunEnd=Тепер введіть час закінчення періоду роботи PIR в неділю + 119 хв (11:49):
Choice /N /T 5 /D N /M "Через 5 сек. будуть проведені налаштування"
Echo      Налаштовую автоматичне перезавантаження
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootEnable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootDay=1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootHour=7&AutoMaintain.AutoRebootMinute=0"
Echo      Включаю та налаштовую NTP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NTP.Address=10.0.0.1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NTP.Port=123"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NTP.TimeZone=2"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NTP.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NTP.UpdatePeriod=5"
Echo     Налаштовую перехід на літній та зимовий час
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Hour=4"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Month=10"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Hour=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Month=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnable=true"
Echo      Встановлюю режим зображення "Regular"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&VideoInOptions[0].NightOptions.SwitchMode=4"
Echo      Редагую кодування та бітрейт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].ExtraFormat[0].Video.BitRate=192&Encode[0].ExtraFormat[0].Video.BitRateControl=CBR&Encode[0].ExtraFormat[0].Video.Compression=H.265&Encode[0].ExtraFormat[0].Video.Height=480&Encode[0].ExtraFormat[0].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.Quality=6&Encode[0].ExtraFormat[2].AudioEnable=true&Encode[0].MainFormat[0].Video.BitRateControl=VBR&Encode[0].MainFormat[0].Video.GOP=20&Encode[0].MainFormat[0].Video.Profile=Main&Encode[0].MainFormat[0].Video.Quality=6&Encode[0].MainFormat[1].Video.BitRateControl=VBR&Encode[0].MainFormat[1].Video.GOP=20&Encode[0].MainFormat[1].Video.Profile=Main&Encode[0].MainFormat[1].Video.Quality=6&Encode[0].MainFormat[2].Video.BitRateControl=VBR&Encode[0].MainFormat[2].Video.GOP=20&Encode[0].MainFormat[2].Video.Profile=Main&Encode[0].MainFormat[2].Video.Quality=6&Encode[0].MainFormat[3].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.GOP=20"
Echo      Редагую якість та затримки снапшотів
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].SnapFormat[0].Video.FPS=0.010000&Encode[0].SnapFormat[0].Video.Quality=6&Encode[0].SnapFormat[1].Video.Quality=6
if defined GWCamFTP Echo      Встановлюю розташування для збереження снапшотів на FTP
if defined GWCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&RecordStoragePoint[0].TimingSnapShot.Local=false&RecordStoragePoint[0].TimingSnapShot.Remote=true"
Echo      Змінюю титульне ім'я
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.EncodeBlend=true&ChannelTitle[0].Name=%TitleName%"
Echo      Змінюю позицію часу та титульного імені
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.Rect[0]=5383&VideoWidget[0].ChannelTitle.Rect[1]=395&VideoWidget[0].ChannelTitle.Rect[2]=8170&VideoWidget[0].ChannelTitle.Rect[3]=974&VideoWidget[0].TimeTitle.Rect[0]=5617&VideoWidget[0].TimeTitle.Rect[1]=0&VideoWidget[0].TimeTitle.Rect[2]=8170&VideoWidget[0].TimeTitle.Rect[3]=526"
Echo     Виключаю DHCP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DhcpEnable=false"
Echo     Змінюю MTU
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.MTU=%MTU%"
Echo     Змінюю маску підмережі
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.SubnetMask=255.255.255.0"
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%NetworkIP%%Subnet%.1"
Echo     Змінюю машинне ім'я камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&General.MachineName=General_View_%MashineName%"
Echo     Змінюю формат дати та роздільник
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.TimeFormat=dd/MM/yyyy%%20HH:mm:ss"
Echo     Включаю детекцію руху та змінюю розклад роботи відеодетектора руху
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].Enable=true&MotionDetect[0].EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[1][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[2][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[3][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[4][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[5][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[6][0]=1%%2000:00:00-%startworkday%:00"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[1][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[2][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[3][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[4][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[5][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[6][1]=1%%20%endworkday%:00-23:59:59"
Echo     Включаю сповіщення на E-mail про вихід з ладу MicroSD карти
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.MailEnable=true"
Echo     Включаю сповіщення на E-mail про IP-конфлікт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.RecordEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.MailEnable=true"
Echo     Змінюю розклад запису відео
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Record[0].TimeSection[0][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[0][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[1][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[1][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[2][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[2][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[3][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[3][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[4][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[4][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[5][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[5][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[6][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[6][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[7][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[7][1]=6%%20%endworkday%:00-23:59:59"
Echo     Змінюю розклад запису снапшотів
if not defined GWCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined GWCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[1][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[5][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined GWCamFTP Echo     Включаю FTP та ввожу Логін та пароль
if defined GWCamFTP if defined GWCamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined GWCamFTP if not defined GWCamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=2%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined GWCamEmail Echo      Налаштовую параметри E-mail
if defined GWCamEmail curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Email.Address=smtp.gmail.com&Email.Anonymous=false&Email.AttachEnable=true&Email.Authentication=true&Email.Enable=true&Email.HealthReport.Enable=false&Email.HealthReport.Interval=60&Email.OnlyAttachment=false&Email.Password=%EmailPassword%&Email.Port=465&Email.SendInterv=7200&Email.SslEnable=true&Email.Title=General_View_%MashineName%&Email.TlsEnable=false&Email.SendAddress=%Subnet%.company.departament@gmail.com&Email.Receivers[0]=%Subnet%.company.departament@gmail.com&Email.UserName=%Subnet%.company.departament@gmail.com"
if defined GWCamPIR Echo      Налаштовую PIR-сповіщення про відкриття ТТ
if defined GWCamPIR curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Alarm[0].Enable=false&Alarm[0].Name=Input&Alarm[1].Enable=true&Alarm[1].EventHandler.AlarmOutEnable=false&Alarm[1].EventHandler.Dejitter=0&Alarm[1].EventHandler.ExAlarmOutEnable=false&Alarm[1].EventHandler.MailEnable=true&Alarm[1].EventHandler.SnapshotEnable=false&Alarm[1].EventHandler.TimeSection[0][0]=1%%20%PIRSunStart%:00-%PIRSunEnd%:00&Alarm[1].EventHandler.TimeSection[1][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[2][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[3][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[4][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[5][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[6][0]=1%%20%PIRSatStart%:00-%PIRSatEnd%:00&Alarm[1].Name=PIR"
Echo     Автоматичні налаштування проведено!
CHOICE /N /C yn /M "Чи зробити скріншот?  Так - y, Нi - n"
if %errorlevel%==2 GoTo GWAutoCamIP&PASSConfigure
set GWFileName=Загальний вид - %ShowTitleName%.jpg
set GWMailSubject=Фото з камер - %ShowTitleName%
set GWMailBody=Час надсилання: %TIME:~0,2%:%TIME:~3,2%  Камера: Загальний вид
set GWMailAttach=%TempDirectory%\%GWFileName%
curl -o "%TempDirectory%\%GWFileName%" --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/snapshot.cgi?"
CHOICE /N /T 30 /C ynr /D n /M "Надiслати Фото через E-mail?  Так - y, Нi - n, Так, на mailreciver@gmail.com - r"
if %errorlevel%==2 GoTo GWAutoCamIP&PASSConfigure
if %errorlevel%==1 set /p GWMailTo=Введiть пошту на яку вiдправити архiв:
if %errorlevel%==1 Goto GWAutoSendTo
if %errorlevel%==3 Goto GWAutoSendToRomanKret
:GWAutoSendTo
mailalert  -r "%GWMailTo%" -s "%GWMailSubject%" -b "%GWMailBody%" -a "%GWMailAttach%"
GoTo GWAutoCamIP&PASSConfigure
:GWAutoSendToRomanKret
set GWMailTo=mailreciver@gmail.com
mailalert  -r "%GWMailTo%" -s "%GWMailSubject%" -b "%GWMailBody%" -a "%GWMailAttach%"

:GWAutoCamIP&PASSConfigure
CHOICE /N /C yn /M "Змінити IP та пароль?  Так - y, Нi - n"
if %errorlevel%==2 GoTo ConfigGWCam
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
Echo     Змінюю адресу камери
curl --user admin:%RegularPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP1%"
Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито головне меню"
GoTO MENU-0

:GWCamIP&PASSConfigure
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
Echo     Змінюю адресу камери
curl --user admin:%RegularPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP1%"
Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито головне меню"
GoTO MENU-0

:GWCamSinglyConfigurefirst
cls
color 75
set GWCamFTP=
set GWCamPhone=
set GWCamImageSettingRegular=Ні
set GWCamEncoding=Ні
set GWCamQualityTimingSnapshot=Ні
set GWCamLocationSnapshotFTP=Ні
set GWCamChangeTitleName=Ні
set GWCamChangePositionTimeTitle=Ні
set GWCamOffDHCP=Ні
set GWCamChangeMTU=Ні
set GWCamChangeIPfromTemptoRegular=Ні
set GWCamChangeIPfromTemptoUserDefined=Ні
set GWCamChangeMask=Ні
set GWCamChangeGateway=Ні
set GWCamChangeGatewayfromTemptoUserDefined=Ні
set GWCamChangeMashineName=Ні
set GWCamChangeDateFormat=Ні
set GWCamChangeMDSettingandSheduler=Ні
set GWCamEnableSDErrorEmail=Ні
set GWCamEnableIPConfEmail=Ні
set GWCamChangeVideoSheduler=Ні
set GWCamChangeSnapSheduler=Ні
set GWCamChangeFTPSetting=Ні
set GWCamChangePassword=Ні
set GWCamAutoRebootOff=Ні
set GWCamNTP=Ні
set GWCamDST=Ні
set GWCamPIR=
set GWCamEmail=
:GWCamSinglyConfigure
cls
color 75
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                             Зміна кожного конкретного параметру поодинці для камери %NetworkIP%%Subnet%.%TempCamIP1%
echo      ************************************************************************************************************
if not defined subnetset echo Не задана підмережа. Подальші дії без цього параметра марні.
if not defined subnetset Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито налаштування підмережі"
if not defined subnetset GoTo SetSubnet
echo      q - Чи відправляє ця камера фото на FTP                       Задано: %GWCamFTP%
echo      w - Чи основний об'єкт - телефони?                            Задано: %GWCamPhone%
echo      1 - Налаштувати автоматичне перезавантаження                  Виконано:  %GWCamAutoRebootOff%
echo      2 - Налаштувати NTP                                           Виконано:  %GWCamNTP%
echo      3 - Налаштування переходу на літній/зимовий час               Виконано:  %GWCamDST%
echo      e - Встановити режим зображення "Regular"                     Виконано:  %GWCamImageSettingRegular%
echo      r - Встановити кодування та бітрейт                           Виконано:  %GWCamEncoding%
echo      t - Встановити якість та затримки снапшотів                   Виконано:  %GWCamQualityTimingSnapshot%
echo      y - Встановити розташування для збереження снапшотів на FTP   Виконано:  %GWCamLocationSnapshotFTP%
echo      u - Змінити титульне ім'я                                     Виконано:  %GWCamChangeTitleName%
echo      i - Змінити позицію часу та титульного імені                  Виконано:  %GWCamChangePositionTimeTitle%
echo      a - Виключити DHCP                                            Виконано:  %GWCamOffDHCP%
echo      s - Змінити MTU                                               Виконано:  %GWCamChangeMTU%
echo      d - Змінити адресу камери                                     Виконано:  %GWCamChangeIPfromTemptoRegular%
echo      f - Змінити адресу камери на користувацьку                    Виконано:  %GWCamChangeIPfromTemptoUserDefined%
echo      g - Змінити маску підмережі                                   Виконано:  %GWCamChangeMask%
echo      h - Змінити шлюз                                              Виконано:  %GWCamChangeGateway%
echo      j - Змінити шлюз на користувацький                            Виконано:  %GWCamChangeGatewayfromTemptoUserDefined%
echo      k - Змінити машинне ім'я камери                               Виконано:  %GWCamChangeMashineName%
echo      l - Змінити формат дати та роздільник                         Виконано:  %GWCamChangeDateFormat%
echo      z - Змінити розклад роботи відеодетектора руху                Виконано:  %GWCamChangeMDSettingandSheduler%
echo      x - Сповіщення на E-mail про вихід з ладу MicroSD             Виконано:  %GWCamEnableSDErrorEmail%
echo      c - Включити сповіщення на E-mail про IP-конфлікт             Виконано:  %GWCamEnableIPConfEmail%
echo      v - Змінити розклад запису відео                              Виконано:  %GWCamChangeVideoSheduler%
echo      b - Змінити розклад запису снапшотів                          Виконано:  %GWCamChangeSnapSheduler%
echo      n - Включити FTP та ввести Логін та пароль                    Виконано:  %GWCamChangeFTPSetting%
echo      m - Змінити пароль                                            Виконано:  %GWCamChangePassword%
echo      4 - Налаштувати E-mail                                        Виконано:  %GWCamEmail%
echo      5 - Налаштувати PIR-сповіщення про відкриття ТТ               Виконано:  %GWCamPIR%
echo.
echo      o - Вихід в попереднє меню
echo      p - Вихід в головне меню
CHOICE /N /C qwertyuiasdfghjklzxcvbnmop12345 /M "Що саме налаштовуємо чи що робимо?"
if %errorlevel%==1 GoTO GWCamQuestionAboutFTP
if %errorlevel%==2 GoTo GWCamQuestionAboutPhone
if %errorlevel%==3 GoTo GWCamImageSettingRegular
if %errorlevel%==4 GoTo GWCamEncoding
if %errorlevel%==5 GoTo GWCamQualityTimingSnapshot
if %errorlevel%==6 GoTo GWCamLocationSnapshotFTP
if %errorlevel%==7 GoTo GWCamChangeTitleName
if %errorlevel%==8 GoTo GWCamChangePositionTimeTitle
if %errorlevel%==9 GoTo GWCamOffDHCP
if %errorlevel%==10 GoTo GWCamChangeMTU
if %errorlevel%==11 GoTo GWCamChangeIPfromTemptoRegular
if %errorlevel%==12 GoTo GWCamChangeIPfromTemptoUserDefined
if %errorlevel%==13 GoTo GWCamChangeMask
if %errorlevel%==14 GoTo GWCamChangeGateway
if %errorlevel%==15 GoTo GWCamChangeGatewayfromTemptoUserDefined
if %errorlevel%==16 GoTo GWCamChangeMashineName
if %errorlevel%==17 GoTo GWCamChangeDateFormat
if %errorlevel%==18 GoTo GWCamChangeMDSettingandSheduler
if %errorlevel%==19 GoTo GWCamEnableSDErrorEmail
if %errorlevel%==20 GoTo GWCamEnableIPConfEmail
if %errorlevel%==21 GoTo GWCamChangeVideoSheduler
if %errorlevel%==22 GoTo GWCamChangeSnapSheduler
if %errorlevel%==23 GoTo GWCamChangeFTPSetting
if %errorlevel%==24 GoTo GWCamChangePassword
if %errorlevel%==25 GoTo ConfigGWCam
if %errorlevel%==26 GoTo MENU-0
if %errorlevel%==27 GoTo GWCamAutoRebootOff
if %errorlevel%==28 GoTo GWCamNTP
if %errorlevel%==29 GoTo GWCamDST
if %errorlevel%==30 GoTo GWCamEmail
if %errorlevel%==31 GoTo GWCamPIR

:GWCamAutoRebootOff
Echo      Налаштовую автоматичне перезавантаження
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootEnable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootDay=1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootHour=7&AutoMaintain.AutoRebootMinute=0"
if %errorlevel%==0 set GWCamAutoRebootOff=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamNTP
Echo      Включаю та налаштовую NTP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NTP.Address=10.0.0.1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NTP.Port=123"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NTP.TimeZone=2"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NTP.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NTP.UpdatePeriod=5"
if %errorlevel%==0 set GWCamNTP=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamDST
Echo     Налаштовую перехід на літній та зимовий час
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Hour=4"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Month=10"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Hour=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Month=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnable=true"
if %errorlevel%==0 set GWCamDST=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamQuestionAboutFTP
CHOICE /N /C yn /M "Чи відправляє ця камера фото на FTP?  Так - y, Нi - n"
if %errorlevel%==2 set GWCamFTP=
if %errorlevel%==1 set GWCamFTP=YES
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamQuestionAboutPhone
if defined GWCamFTP CHOICE /N /C yn /M "Чи основний об'єкт - телефони?  Так - y, Нi - n"
if defined GWCamFTP if %errorlevel%==1 set GWCamPhone=YES
if defined GWCamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined GWCamFTP GoTo GWCamSinglyConfigure
if not defined GWCamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined GWCamFTP echo      0 - Перети до налаштування цього параметру
if not defined GWCamFTP echo      1 - Вийти в попереднє меню
if not defined GWCamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined GWCamFTP if %errorlevel%==1 GoTO GWCamQuestionAboutFTP
if not defined GWCamFTP if %errorlevel%==2 GoTo GWCamSinglyConfigure


:GWCamImageSettingRegular
Echo      Встановлюю режим зображення "Regular"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&VideoInOptions[0].NightOptions.SwitchMode=4"
if %errorlevel%==0 set GWCamImageSettingRegular=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamEncoding
Echo      Редагую кодування та бітрейт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].ExtraFormat[0].Video.BitRate=192&Encode[0].ExtraFormat[0].Video.BitRateControl=CBR&Encode[0].ExtraFormat[0].Video.Compression=H.265&Encode[0].ExtraFormat[0].Video.Height=480&Encode[0].ExtraFormat[0].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.Quality=6&Encode[0].ExtraFormat[2].AudioEnable=true&Encode[0].MainFormat[0].Video.BitRateControl=VBR&Encode[0].MainFormat[0].Video.GOP=20&Encode[0].MainFormat[0].Video.Profile=Main&Encode[0].MainFormat[0].Video.Quality=6&Encode[0].MainFormat[1].Video.BitRateControl=VBR&Encode[0].MainFormat[1].Video.GOP=20&Encode[0].MainFormat[1].Video.Profile=Main&Encode[0].MainFormat[1].Video.Quality=6&Encode[0].MainFormat[2].Video.BitRateControl=VBR&Encode[0].MainFormat[2].Video.GOP=20&Encode[0].MainFormat[2].Video.Profile=Main&Encode[0].MainFormat[2].Video.Quality=6&Encode[0].MainFormat[3].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.GOP=20"
if %errorlevel%==0 set GWCamEncoding=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure


:GWCamQualityTimingSnapshot
Echo      Редагую якість та затримки снапшотів
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].SnapFormat[0].Video.FPS=0.010000&Encode[0].SnapFormat[0].Video.Quality=6&Encode[0].SnapFormat[1].Video.Quality=6
if %errorlevel%==0 set GWCamQualityTimingSnapshot=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamLocationSnapshotFTP
if defined GWCamFTP Echo      Встановлюю розташування для збереження снапшотів на FTP
if defined GWCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&RecordStoragePoint[0].TimingSnapShot.Local=false&RecordStoragePoint[0].TimingSnapShot.Remote=true"
if defined GWCamFTP if %errorlevel%==0 set GWCamLocationSnapshotFTP=Так
if defined GWCamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined GWCamFTP GoTo GWCamSinglyConfigure
if not defined GWCamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined GWCamFTP echo      0 - Перети до налаштування цього параметру
if not defined GWCamFTP echo      1 - Вийти в попереднє меню
if not defined GWCamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined GWCamFTP if %errorlevel%==1 GoTO GWCamQuestionAboutFTP
if not defined GWCamFTP if %errorlevel%==2 GoTo GWCamSinglyConfigure

:GWCamChangeTitleName
Echo      Змінюю титульне ім'я
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.EncodeBlend=true&ChannelTitle[0].Name=%TitleName%"
if %errorlevel%==0 set GWCamChangeTitleName=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangePositionTimeTitle
Echo      Змінюю позицію часу та титульного імені
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.Rect[0]=5383&VideoWidget[0].ChannelTitle.Rect[1]=395&VideoWidget[0].ChannelTitle.Rect[2]=8170&VideoWidget[0].ChannelTitle.Rect[3]=974&VideoWidget[0].TimeTitle.Rect[0]=5617&VideoWidget[0].TimeTitle.Rect[1]=0&VideoWidget[0].TimeTitle.Rect[2]=8170&VideoWidget[0].TimeTitle.Rect[3]=526"
if %errorlevel%==0 set GWCamChangePositionTimeTitle=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamOffDHCP
Echo     Виключаю DHCP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DhcpEnable=false"
if %errorlevel%==0 set GWCamOffDHCP=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangeMTU
Echo     Змінюю MTU
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.MTU=%MTU%"
if %errorlevel%==0 set GWCamChangeMTU=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangeIPfromTemptoRegular
Echo     Змінюю адресу камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP1%"
if %errorlevel%==0 set GWCamChangeIPfromTemptoRegular=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangeIPfromTemptoUserDefined
set /p UserDefinedIP=Введiть повністю адресу на яку ви хочете змінити IP-адресу камери:
Echo     Змінюю адресу камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%UserDefinedIP%"
if %errorlevel%==0 set GWCamChangeIPfromTemptoUserDefined=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangeMask
Echo     Змінюю маску підмережі
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.SubnetMask=255.255.255.0"
if %errorlevel%==0 set GWCamChangeMask=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangeGateway
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%NetworkIP%%Subnet%.1"
if %errorlevel%==0 set GWCamChangeGateway=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangeGatewayfromTemptoUserDefined
set /p UserDefinedIP=Введiть повністю адресу на яка зараз не камері:
set /p UserDefinedGateway=Введiть повністю адресу шлюзу який необхідно встановити:
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%UserDefinedIP%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%UserDefinedGateway%"
if %errorlevel%==0 set GWCamChangeGatewayfromTemptoUserDefined=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangeMashineName
Echo     Змінюю машинне ім'я камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&General.MachineName=General_View_%MashineName%"
if %errorlevel%==0 set GWCamChangeMashineName=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangeDateFormat
Echo     Змінюю формат дати та роздільник
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Locales.TimeFormat=dd/MM/yyyy%%20HH:mm:ss"
if %errorlevel%==0 set GWCamChangeDateFormat=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure


:GWCamChangeMDSettingandSheduler
Echo     Включаю детекцію руху та змінюю розклад роботи відеодетектора руху
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].Enable=true&MotionDetect[0].EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[1][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[2][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[3][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[4][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[5][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[6][0]=1%%2000:00:00-%startworkday%:00"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[1][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[2][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[3][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[4][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[5][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[6][1]=1%%20%endworkday%:00-23:59:59"
if %errorlevel%==0 set GWCamChangeMDSettingandSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamEnableSDErrorEmail
Echo     Включаю сповіщення на E-mail про вихід з ладу MicroSD карти
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.MailEnable=true"
if %errorlevel%==0 set GWCamEnableSDErrorEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamEnableIPConfEmail
Echo     Включаю сповіщення на E-mail про IP-конфлікт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.RecordEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.MailEnable=true"
if %errorlevel%==0 set GWCamEnableIPConfEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangeVideoSheduler
Echo     Змінюю розклад запису відео
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Record[0].TimeSection[0][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[0][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[1][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[1][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[2][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[2][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[3][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[3][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[4][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[4][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[5][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[5][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[6][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[6][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[7][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[7][1]=6%%20%endworkday%:00-23:59:59"
if %errorlevel%==0 set GWCamChangeVideoSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangeSnapSheduler
Echo     Змінюю розклад запису снапшотів
if not defined GWCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined GWCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[1][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[5][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if %errorlevel%==0 set GWCamChangeSnapSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamChangeFTPSetting
if defined GWCamFTP Echo     Включаю FTP та ввожу Логін та пароль
if defined GWCamFTP if defined GWCamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined GWCamFTP if not defined GWCamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=2%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined GWCamFTP if %errorlevel%==0 set GWCamChangeFTPSetting=Так
if defined GWCamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined GWCamFTP GoTo GWCamSinglyConfigure
if not defined GWCamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined GWCamFTP echo      0 - Перети до налаштування цього параметру
if not defined GWCamFTP echo      1 - Вийти в попереднє меню
if not defined GWCamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined GWCamFTP if %errorlevel%==1 GoTO GWCamQuestionAboutFTP
if not defined GWCamFTP if %errorlevel%==2 GoTo GWCamSinglyConfigure

:GWCamChangePassword
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
if %errorlevel%==0 set GWCamChangePassword=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamPIR
Echo      Налаштовую PIR-сповіщення про відкриття ТТ
set /p PIRWorkDayStart=Введiть час відриття магазину в будні за мінусом 10 хв (08:50):
set /p PIRWorkDayEnd=Тепер введіть час закінчення періоду роботи PIR в будні + 119 хв (10:49):
set /p PIRSatStart=Введiть час відриття магазину в суботу за мінусом 10 хв (08:50):
set /p PIRSatEnd=Тепер введіть час закінчення періоду роботи PIR в суботу + 119 хв (10:49):
set /p PIRSunStart=Введiть час відриття магазину в неділю за мінусом 10 хв (09:50):
set /p PIRSunEnd=Тепер введіть час закінчення періоду роботи PIR в неділю + 119 хв (11:49):
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Alarm[0].Enable=false&Alarm[0].Name=Input&Alarm[1].Enable=true&Alarm[1].EventHandler.AlarmOutEnable=false&Alarm[1].EventHandler.Dejitter=0&Alarm[1].EventHandler.ExAlarmOutEnable=false&Alarm[1].EventHandler.MailEnable=true&Alarm[1].EventHandler.SnapshotEnable=false&Alarm[1].EventHandler.TimeSection[0][0]=1%%20%PIRSunStart%:00-%PIRSunEnd%:00&Alarm[1].EventHandler.TimeSection[1][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[2][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[3][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[4][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[5][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[6][0]=1%%20%PIRSatStart%:00-%PIRSatEnd%:00&Alarm[1].Name=PIR"
if %errorlevel%==0 set GWCamPIR=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure

:GWCamEmail
Echo      Налаштовую параметри E-mail
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP1%/cgi-bin/configManager.cgi?action=setConfig&Email.Address=smtp.gmail.com&Email.Anonymous=false&Email.AttachEnable=true&Email.Authentication=true&Email.Enable=true&Email.HealthReport.Enable=false&Email.HealthReport.Interval=60&Email.OnlyAttachment=false&Email.Password=%EmailPassword%&Email.Port=465&Email.SendInterv=7200&Email.SslEnable=true&Email.Title=General_View_%MashineName%&Email.TlsEnable=false&Email.SendAddress=%Subnet%.company.departament@gmail.com&Email.Receivers[0]=%Subnet%.company.departament@gmail.com&Email.UserName=%Subnet%.company.departament@gmail.com"
if %errorlevel%==0 set GWCamEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo GWCamSinglyConfigure


Rem +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
:ConfigUPCam
cls
color b0
set UPCamFTP=
set UPCamPhone=
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                           Меню налаштування камери %NetworkIP%%Subnet%.%TempCamIP2%
echo      ************************************************************************************************************
if not defined subnetset echo Не задана підмережа. Подальші дії без цього параметра марні.
if not defined subnetset Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито налаштування підмережі"
if not defined subnetset GoTo SetSubnet
echo      0 - Авто налаштування
echo      1 - Лише зніна IP-адреси та паролю.
echo      2 - Зміна кожного конкретного параметру поодинці
echo      3 - Інфо про MicroSD
echo      4 - Перезавантажити камеру
echo      5 - Зробити скріншот
echo      p - Вихід в головне меню
echo.
echo.
echo.
echo.
CHOICE /N /C 012p345 /M "Виберіть дію описану вище ˄ ˄ ˄ ˄ ˄ ˄ ˄"
if %errorlevel%==1 GoTO UPCamAutoConfigure
if %errorlevel%==2 GoTo UPCamIP&PASSConfigure
if %errorlevel%==3 GoTo UPCamSinglyConfigurefirst
if %errorlevel%==4 GoTo MENU-0
if %errorlevel%==5 GoTo UPCamGetMicroSD
if %errorlevel%==6 GoTo UPCamReboot
if %errorlevel%==7 GoTo UPGetSnapshotandSendfromEmail


:UPCamGetMicroSD
Echo     Перевіряю присутність MicroSD
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/storageDevice.cgi?action=factory.getCollect"
CHOICE /N /T 15 /C yn /D n /M "Показати детальну інформацію про MicroSD?  Так - y, Нi - n"
if %errorlevel%==2 GoTo UPCamSkipAllInfoMicroSD
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/storageDevice.cgi?action=getDeviceAllInfo"
Choice /N /T 20 /D N /M "Через 20 сек. буде відкрито попереднє меню"
GoTO ConfigUPCam
:UPCamSkipAllInfoMicroSD
GoTo ConfigUPCam



:UPCamReboot
Echo     Перезавантажую камеру
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/magicBox.cgi?action=reboot"
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито головне меню"
GoTO MENU-0


:UPGetSnapshotandSendfromEmail
set UPFileName=Розпаковка %ShowTitleName%.jpg
set UPMailSubject=Фото з камер - %ShowTitleName%
set UPMailBody=Час надсилання: %TIME:~0,2%:%TIME:~3,2% Камера: Розпаковка
set UPMailAttach=%TempDirectory%\%UPFileName%
curl -o "%TempDirectory%\%UPFileName%" --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/snapshot.cgi?"
CHOICE /N /T 30 /C ynr /D n /M "Надiслати Фото через E-mail?  Так - y, Нi - n, Так, на mailreciver@gmail.com - r"
if %errorlevel%==2 GoTo ConfigUPCam
if %errorlevel%==1 set /p UPMailTo=Введiть пошту на яку вiдправити архiв:
if %errorlevel%==1 Goto UPSendTo
if %errorlevel%==3 Goto UPSendToRomanKret
:UPSendTo
mailalert  -r "%UPMailTo%" -s "%UPMailSubject%" -b "%UPMailBody%" -a "%UPMailAttach%"
GoTo ConfigUPCam
:UPSendToRomanKret
set UPMailTo=mailreciver@gmail.com
mailalert  -r "%UPMailTo%" -s "%UPMailSubject%" -b "%UPMailBody%" -a "%UPMailAttach%"
GoTo ConfigUPCam


:UPCamAutoConfigure
CHOICE /N /C yn /M "Чи відправляє ця камера фото на FTP?  Так - y, Нi - n"
if %errorlevel%==1 set UPCamFTP=YES
if defined UPCamFTP CHOICE /N /C yn /M "Чи основний об'єкт - телефони?  Так - y, Нi - n"
if %errorlevel%==1 set UPCamPhone=YES
CHOICE /N /T 15 /C yn /D y /M "Чи налаштувати E-mail?  Так - y, Нi - n"
if %errorlevel%==1 set UPCamEmail=YES
CHOICE /N /T 15 /C yn /D n /M "Чи налаштувати PIR-сповіщення про відкриття ТТ?  Так - y, Нi - n"
if %errorlevel%==1 set UPCamPIR=YES
if defined UPCamPIR set /p PIRWorkDayStart=Введiть час відриття магазину в будні за мінусом 10 хв (08:50):
if defined UPCamPIR set /p PIRWorkDayEnd=Тепер введіть час закінчення періоду роботи PIR в будні + 119 хв (10:49):
if defined UPCamPIR set /p PIRSatStart=Введiть час відриття магазину в суботу за мінусом 10 хв (08:50):
if defined UPCamPIR set /p PIRSatEnd=Тепер введіть час закінчення періоду роботи PIR в суботу + 119 хв (10:49):
if defined UPCamPIR set /p PIRSunStart=Введiть час відриття магазину в неділю за мінусом 10 хв (09:50):
if defined UPCamPIR set /p PIRSunEnd=Тепер введіть час закінчення періоду роботи PIR в неділю + 119 хв (11:49):
Choice /N /T 5 /D N /M "Через 5 сек. будуть проведені налаштування"
Echo      Налаштовую автоматичне перезавантаження
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootEnable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootDay=1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootHour=7&AutoMaintain.AutoRebootMinute=0"
Echo      Включаю та налаштовую NTP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NTP.Address=10.0.0.1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NTP.Port=123"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NTP.TimeZone=2"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NTP.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NTP.UpdatePeriod=5"
Echo     Налаштовую перехід на літній та зимовий час
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Hour=4"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Month=10"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Hour=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Month=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnable=true"
Echo      Встановлюю режим зображення "Regular"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&VideoInOptions[0].NightOptions.SwitchMode=4"
Echo      Редагую кодування та бітрейт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].ExtraFormat[0].Video.BitRate=192&Encode[0].ExtraFormat[0].Video.BitRateControl=CBR&Encode[0].ExtraFormat[0].Video.Compression=H.265&Encode[0].ExtraFormat[0].Video.Height=480&Encode[0].ExtraFormat[0].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.Quality=6&Encode[0].ExtraFormat[2].AudioEnable=true&Encode[0].MainFormat[0].Video.BitRateControl=VBR&Encode[0].MainFormat[0].Video.GOP=20&Encode[0].MainFormat[0].Video.Profile=Main&Encode[0].MainFormat[0].Video.Quality=6&Encode[0].MainFormat[1].Video.BitRateControl=VBR&Encode[0].MainFormat[1].Video.GOP=20&Encode[0].MainFormat[1].Video.Profile=Main&Encode[0].MainFormat[1].Video.Quality=6&Encode[0].MainFormat[2].Video.BitRateControl=VBR&Encode[0].MainFormat[2].Video.GOP=20&Encode[0].MainFormat[2].Video.Profile=Main&Encode[0].MainFormat[2].Video.Quality=6&Encode[0].MainFormat[3].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.GOP=20"
Echo      Редагую якість та затримки снапшотів
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].SnapFormat[0].Video.FPS=0.010000&Encode[0].SnapFormat[0].Video.Quality=6&Encode[0].SnapFormat[1].Video.Quality=6
if defined UPCamFTP Echo      Встановлюю розташування для збереження снапшотів на FTP
if defined UPCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&RecordStoragePoint[0].TimingSnapShot.Local=false&RecordStoragePoint[0].TimingSnapShot.Remote=true"
Echo      Змінюю титульне ім'я
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.EncodeBlend=true&ChannelTitle[0].Name=%TitleName%"
Echo      Змінюю позицію часу та титульного імені
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.Rect[0]=5383&VideoWidget[0].ChannelTitle.Rect[1]=395&VideoWidget[0].ChannelTitle.Rect[2]=8170&VideoWidget[0].ChannelTitle.Rect[3]=974&VideoWidget[0].TimeTitle.Rect[0]=5617&VideoWidget[0].TimeTitle.Rect[1]=0&VideoWidget[0].TimeTitle.Rect[2]=8170&VideoWidget[0].TimeTitle.Rect[3]=526"
Echo     Виключаю DHCP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DhcpEnable=false"
Echo     Змінюю MTU
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.MTU=%MTU%"
Echo     Змінюю маску підмережі
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.SubnetMask=255.255.255.0"
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%NetworkIP%%Subnet%.1"
Echo     Змінюю машинне ім'я камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&General.MachineName=Unpacking_%MashineName%"
Echo     Змінюю формат дати та роздільник
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.TimeFormat=dd/MM/yyyy%%20HH:mm:ss"
Echo     Включаю детекцію руху та змінюю розклад роботи відеодетектора руху
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].Enable=true&MotionDetect[0].EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[1][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[2][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[3][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[4][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[5][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[6][0]=1%%2000:00:00-%startworkday%:00"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[1][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[2][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[3][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[4][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[5][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[6][1]=1%%20%endworkday%:00-23:59:59"
Echo     Включаю сповіщення на E-mail про вихід з ладу MicroSD карти
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.MailEnable=true"
Echo     Включаю сповіщення на E-mail про IP-конфлікт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.RecordEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.MailEnable=true"
Echo     Змінюю розклад запису відео
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Record[0].TimeSection[0][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[0][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[1][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[1][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[2][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[2][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[3][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[3][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[4][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[4][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[5][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[5][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[6][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[6][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[7][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[7][1]=6%%20%endworkday%:00-23:59:59"
Echo     Змінюю розклад запису снапшотів
if not defined UPCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined UPCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[1][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[5][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined UPCamFTP Echo     Включаю FTP та ввожу Логін та пароль
if defined UPCamFTP if defined UPCamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined UPCamFTP if not defined UPCamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=2%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined UPCamEmail Echo      Налаштовую параметри E-mail
if defined UPCamEmail curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Email.Address=smtp.gmail.com&Email.Anonymous=false&Email.AttachEnable=true&Email.Authentication=true&Email.Enable=true&Email.HealthReport.Enable=false&Email.HealthReport.Interval=60&Email.OnlyAttachment=false&Email.Password=%EmailPassword%&Email.Port=465&Email.SendInterv=7200&Email.SslEnable=true&Email.Title=Unpacking_%MashineName%&Email.TlsEnable=false&Email.SendAddress=%Subnet%.company.departament@gmail.com&Email.Receivers[0]=%Subnet%.company.departament@gmail.com&Email.UserName=%Subnet%.company.departament@gmail.com"
if defined UPCamPIR Echo      Налаштовую PIR-сповіщення про відкриття ТТ
if defined UPCamPIR curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Alarm[0].Enable=false&Alarm[0].Name=Input&Alarm[1].Enable=true&Alarm[1].EventHandler.AlarmOutEnable=false&Alarm[1].EventHandler.Dejitter=0&Alarm[1].EventHandler.ExAlarmOutEnable=false&Alarm[1].EventHandler.MailEnable=true&Alarm[1].EventHandler.SnapshotEnable=false&Alarm[1].EventHandler.TimeSection[0][0]=1%%20%PIRSunStart%:00-%PIRSunEnd%:00&Alarm[1].EventHandler.TimeSection[1][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[2][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[3][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[4][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[5][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[6][0]=1%%20%PIRSatStart%:00-%PIRSatEnd%:00&Alarm[1].Name=PIR"
Echo     Автоматичні налаштування проведено!
CHOICE /N /C yn /M "Чи зробити скріншот?  Так - y, Нi - n"
if %errorlevel%==2 GoTo UPAutoCamIP&PASSConfigure
set UPFileName=Розпаковка - %ShowTitleName%.jpg
set UPMailSubject=Фото з камер - %ShowTitleName%
set UPMailBody=Час надсилання: %TIME:~0,2%:%TIME:~3,2% Камера: Розпаковка
set UPMailAttach=%TempDirectory%\%UPFileName%
curl -o "%TempDirectory%\%UPFileName%" --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/snapshot.cgi?"
CHOICE /N /T 30 /C ynr /D n /M "Надiслати Фото через E-mail?  Так - y, Нi - n, Так, на mailreciver@gmail.com - r"
if %errorlevel%==2 GoTo UPAutoCamIP&PASSConfigure
if %errorlevel%==1 set /p UPMailTo=Введiть пошту на яку вiдправити архiв:
if %errorlevel%==1 Goto UPAutoSendTo
if %errorlevel%==3 Goto UPAutoSendToRomanKret
:UPAutoSendTo
mailalert  -r "%UPMailTo%" -s "%UPMailSubject%" -b "%UPMailBody%" -a "%UPMailAttach%"
GoTo UPAutoCamIP&PASSConfigure
:UPAutoSendToRomanKret
set UPMailTo=mailreciver@gmail.com
mailalert  -r "%UPMailTo%" -s "%UPMailSubject%" -b "%UPMailBody%" -a "%UPMailAttach%"

:UPAutoCamIP&PASSConfigure
CHOICE /N /C yn /M "Змінити IP та пароль?  Так - y, Нi - n"
if %errorlevel%==2 GoTo ConfigUPCam
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
Echo     Змінюю адресу камери
curl --user admin:%RegularPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP2%"
Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито головне меню"
GoTO MENU-0
:UPCamIP&PASSConfigure
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
Echo     Змінюю адресу камери
curl --user admin:%RegularPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP2%"
Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито головне меню"
GoTO MENU-0

:UPCamSinglyConfigurefirst
cls
color 75
set UPCamFTP=
set UPCamPhone=
set UPCamImageSettingRegular=Ні
set UPCamEncoding=Ні
set UPCamQualityTimingSnapshot=Ні
set UPCamLocationSnapshotFTP=Ні
set UPCamChangeTitleName=Ні
set UPCamChangePositionTimeTitle=Ні
set UPCamOffDHCP=Ні
set UPCamChangeMTU=Ні
set UPCamChangeIPfromTemptoRegular=Ні
set UPCamChangeIPfromTemptoUserDefined=Ні
set UPCamChangeMask=Ні
set UPCamChangeGateway=Ні
set UPCamChangeGatewayfromTemptoUserDefined=Ні
set UPCamChangeMashineName=Ні
set UPCamChangeDateFormat=Ні
set UPCamChangeMDSettingandSheduler=Ні
set UPCamEnableSDErrorEmail=Ні
set UPCamEnableIPConfEmail=Ні
set UPCamChangeVideoSheduler=Ні
set UPCamChangeSnapSheduler=Ні
set UPCamChangeFTPSetting=Ні
set UPCamChangePassword=Ні
set UPCamAutoRebootOff=Ні
set UPCamNTP=Ні
set UPCamDST=Ні
set UPCamPIR=
set UPCamEmail=

:UPCamSinglyConfigure
cls
color 75
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                             Зміна кожного конкретного параметру поодинці для камери %NetworkIP%%Subnet%.%TempCamIP2%
echo      ************************************************************************************************************
if not defined subnetset echo Не задана підмережа. Подальші дії без цього параметра марні.
if not defined subnetset Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито налаштування підмережі"
if not defined subnetset GoTo SetSubnet
echo      q - Чи відправляє ця камера фото на FTP                       Задано: %UPCamFTP%
echo      w - Чи основний об'єкт - телефони?                            Задано: %UPCamPhone%
echo      1 - Виключити автоматичне перезавантаження                    Виконано:  %UPCamAutoRebootOff%
echo      2 - Налаштувати NTP                                           Виконано:  %UPCamNTP%
echo      3 - Налаштування переходу на літній/зимовий час               Виконано:  %UPCamDST%
echo      e - Встановити режим зображення "Regular"                     Виконано:  %UPCamImageSettingRegular%
echo      r - Встановити кодування та бітрейт                           Виконано:  %UPCamEncoding%
echo      t - Встановити якість та затримки снапшотів                   Виконано:  %UPCamQualityTimingSnapshot%
echo      y - Встановити розташування для збереження снапшотів на FTP   Виконано:  %UPCamLocationSnapshotFTP%
echo      u - Змінити титульне ім'я                                     Виконано:  %UPCamChangeTitleName%
echo      i - Змінити позицію часу та титульного імені                  Виконано:  %UPCamChangePositionTimeTitle%
echo      a - Виключити DHCP                                            Виконано:  %UPCamOffDHCP%
echo      s - Змінити MTU                                               Виконано:  %UPCamChangeMTU%
echo      d - Змінити адресу камери                                     Виконано:  %UPCamChangeIPfromTemptoRegular%
echo      f - Змінити адресу камери на користувацьку                    Виконано:  %UPCamChangeIPfromTemptoUserDefined%
echo      g - Змінити маску підмережі                                   Виконано:  %UPCamChangeMask%
echo      h - Змінити шлюз                                              Виконано:  %UPCamChangeGateway%
echo      j - Змінити шлюз на користувацький                            Виконано:  %UPCamChangeGatewayfromTemptoUserDefined%
echo      k - Змінити машинне ім'я камери                               Виконано:  %UPCamChangeMashineName%
echo      l - Змінити формат дати та роздільник                         Виконано:  %UPCamChangeDateFormat%
echo      z - Змінити розклад роботи відеодетектора руху                Виконано:  %UPCamChangeMDSettingandSheduler%
echo      x - Сповіщення на E-mail про вихід з ладу MicroSD             Виконано:  %UPCamEnableSDErrorEmail%
echo      c - Включити сповіщення на E-mail про IP-конфлікт             Виконано:  %UPCamEnableIPConfEmail%
echo      v - Змінити розклад запису відео                              Виконано:  %UPCamChangeVideoSheduler%
echo      b - Змінити розклад запису снапшотів                          Виконано:  %UPCamChangeSnapSheduler%
echo      n - Включити FTP та ввести Логін та пароль                    Виконано:  %UPCamChangeFTPSetting%
echo      m - Змінити пароль                                            Виконано:  %UPCamChangePassword%
echo      4 - Налаштувати E-mail                                        Виконано:  %UPCamEmail%
echo      5 - Налаштувати PIR-сповіщення про відкриття ТТ               Виконано:  %UPCamPIR%
echo.
echo      o - Вихід в попереднє меню
echo      p - Вихід в головне меню
CHOICE /N /C qwertyuiasdfghjklzxcvbnmop12345 /M "Що саме налаштовуємо чи що робимо?"
if %errorlevel%==1 GoTO UPCamQuestionAboutFTP
if %errorlevel%==2 GoTo UPCamQuestionAboutPhone
if %errorlevel%==3 GoTo UPCamImageSettingRegular
if %errorlevel%==4 GoTo UPCamEncoding
if %errorlevel%==5 GoTo UPCamQualityTimingSnapshot
if %errorlevel%==6 GoTo UPCamLocationSnapshotFTP
if %errorlevel%==7 GoTo UPCamChangeTitleName
if %errorlevel%==8 GoTo UPCamChangePositionTimeTitle
if %errorlevel%==9 GoTo UPCamOffDHCP
if %errorlevel%==10 GoTo UPCamChangeMTU
if %errorlevel%==11 GoTo UPCamChangeIPfromTemptoRegular
if %errorlevel%==12 GoTo UPCamChangeIPfromTemptoUserDefined
if %errorlevel%==13 GoTo UPCamChangeMask
if %errorlevel%==14 GoTo UPCamChangeGateway
if %errorlevel%==15 GoTo UPCamChangeGatewayfromTemptoUserDefined
if %errorlevel%==16 GoTo UPCamChangeMashineName
if %errorlevel%==17 GoTo UPCamChangeDateFormat
if %errorlevel%==18 GoTo UPCamChangeMDSettingandSheduler
if %errorlevel%==19 GoTo UPCamEnableSDErrorEmail
if %errorlevel%==20 GoTo UPCamEnableIPConfEmail
if %errorlevel%==21 GoTo UPCamChangeVideoSheduler
if %errorlevel%==22 GoTo UPCamChangeSnapSheduler
if %errorlevel%==23 GoTo UPCamChangeFTPSetting
if %errorlevel%==24 GoTo UPCamChangePassword
if %errorlevel%==25 GoTo ConfigUPCam
if %errorlevel%==26 GoTo MENU-0
if %errorlevel%==27 GoTo UPCamAutoRebootOff
if %errorlevel%==28 GoTo UPCamNTP
if %errorlevel%==29 GoTo UPCamDST
if %errorlevel%==30 GoTo UPCamEmail
if %errorlevel%==31 GoTo UPCamPIR


:UPCamAutoRebootOff
Echo      Налаштовую автоматичне перезавантаження
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootEnable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootDay=1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootHour=7&AutoMaintain.AutoRebootMinute=0"
if %errorlevel%==0 set UPCamAutoRebootOff=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamNTP
Echo      Включаю та налаштовую NTP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NTP.Address=10.0.0.1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NTP.Port=123"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NTP.TimeZone=2"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NTP.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NTP.UpdatePeriod=5"
if %errorlevel%==0 set UPCamNTP=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamDST
Echo     Налаштовую перехід на літній та зимовий час
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Hour=4"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Month=10"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Hour=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Month=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnable=true"
if %errorlevel%==0 set UPCamDST=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure





:UPCamQuestionAboutFTP
CHOICE /N /C yn /M "Чи відправляє ця камера фото на FTP?  Так - y, Нi - n"
if %errorlevel%==2 set UPCamFTP=
if %errorlevel%==1 set UPCamFTP=YES
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamQuestionAboutPhone
if defined UPCamFTP CHOICE /N /C yn /M "Чи основний об'єкт - телефони?  Так - y, Нi - n"
if defined UPCamFTP if %errorlevel%==1 set UPCamPhone=YES
if defined UPCamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined UPCamFTP GoTo UPCamSinglyConfigure
if not defined UPCamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined UPCamFTP echo      0 - Перети до налаштування цього параметру
if not defined UPCamFTP echo      1 - Вийти в попереднє меню
if not defined UPCamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined UPCamFTP if %errorlevel%==1 GoTO UPCamQuestionAboutFTP
if not defined UPCamFTP if %errorlevel%==2 GoTo UPCamSinglyConfigure



:UPCamImageSettingRegular
Echo      Встановлюю режим зображення "Regular"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&VideoInOptions[0].NightOptions.SwitchMode=4"
if %errorlevel%==0 set UPCamImageSettingRegular=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamEncoding
Echo      Редагую кодування та бітрейт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].ExtraFormat[0].Video.BitRate=192&Encode[0].ExtraFormat[0].Video.BitRateControl=CBR&Encode[0].ExtraFormat[0].Video.Compression=H.265&Encode[0].ExtraFormat[0].Video.Height=480&Encode[0].ExtraFormat[0].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.Quality=6&Encode[0].ExtraFormat[2].AudioEnable=true&Encode[0].MainFormat[0].Video.BitRateControl=VBR&Encode[0].MainFormat[0].Video.GOP=20&Encode[0].MainFormat[0].Video.Profile=Main&Encode[0].MainFormat[0].Video.Quality=6&Encode[0].MainFormat[1].Video.BitRateControl=VBR&Encode[0].MainFormat[1].Video.GOP=20&Encode[0].MainFormat[1].Video.Profile=Main&Encode[0].MainFormat[1].Video.Quality=6&Encode[0].MainFormat[2].Video.BitRateControl=VBR&Encode[0].MainFormat[2].Video.GOP=20&Encode[0].MainFormat[2].Video.Profile=Main&Encode[0].MainFormat[2].Video.Quality=6&Encode[0].MainFormat[3].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.GOP=20"
if %errorlevel%==0 set UPCamEncoding=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure


:UPCamQualityTimingSnapshot
Echo      Редагую якість та затримки снапшотів
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].SnapFormat[0].Video.FPS=0.010000&Encode[0].SnapFormat[0].Video.Quality=6&Encode[0].SnapFormat[1].Video.Quality=6
if %errorlevel%==0 set UPCamQualityTimingSnapshot=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamLocationSnapshotFTP
if defined UPCamFTP Echo      Встановлюю розташування для збереження снапшотів на FTP
if defined UPCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&RecordStoragePoint[0].TimingSnapShot.Local=false&RecordStoragePoint[0].TimingSnapShot.Remote=true"
if defined UPCamFTP if %errorlevel%==0 set UPCamLocationSnapshotFTP=Так
if defined UPCamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined UPCamFTP GoTo UPCamSinglyConfigure
if not defined UPCamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined UPCamFTP echo      0 - Перети до налаштування цього параметру
if not defined UPCamFTP echo      1 - Вийти в попереднє меню
if not defined UPCamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined UPCamFTP if %errorlevel%==1 GoTO UPCamQuestionAboutFTP
if not defined UPCamFTP if %errorlevel%==2 GoTo UPCamSinglyConfigure

:UPCamChangeTitleName
Echo      Змінюю титульне ім'я
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.EncodeBlend=true&ChannelTitle[0].Name=%TitleName%"
if %errorlevel%==0 set UPCamChangeTitleName=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangePositionTimeTitle
Echo      Змінюю позицію часу та титульного імені
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.Rect[0]=5383&VideoWidget[0].ChannelTitle.Rect[1]=395&VideoWidget[0].ChannelTitle.Rect[2]=8170&VideoWidget[0].ChannelTitle.Rect[3]=974&VideoWidget[0].TimeTitle.Rect[0]=5617&VideoWidget[0].TimeTitle.Rect[1]=0&VideoWidget[0].TimeTitle.Rect[2]=8170&VideoWidget[0].TimeTitle.Rect[3]=526"
if %errorlevel%==0 set UPCamChangePositionTimeTitle=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamOffDHCP
Echo     Виключаю DHCP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DhcpEnable=false"
if %errorlevel%==0 set UPCamOffDHCP=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangeMTU
Echo     Змінюю MTU
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.MTU=%MTU%"
if %errorlevel%==0 set UPCamChangeMTU=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangeIPfromTemptoRegular
Echo     Змінюю адресу камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP2%"
if %errorlevel%==0 set UPCamChangeIPfromTemptoRegular=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangeIPfromTemptoUserDefined
set /p UserDefinedIP=Введiть повністю адресу на яку ви хочете змінити IP-адресу камери:
Echo     Змінюю адресу камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%UserDefinedIP%"
if %errorlevel%==0 set UPCamChangeIPfromTemptoUserDefined=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangeMask
Echo     Змінюю маску підмережі
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.SubnetMask=255.255.255.0"
if %errorlevel%==0 set UPCamChangeMask=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangeGateway
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%NetworkIP%%Subnet%.1"
if %errorlevel%==0 set UPCamChangeGateway=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangeGatewayfromTemptoUserDefined
set /p UserDefinedIP=Введiть повністю адресу на яка зараз не камері:
set /p UserDefinedGateway=Введiть повністю адресу шлюзу який необхідно встановити:
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%UserDefinedIP%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%UserDefinedGateway%"
if %errorlevel%==0 set UPCamChangeGatewayfromTemptoUserDefined=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangeMashineName
Echo     Змінюю машинне ім'я камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&General.MachineName=Unpacking_%MashineName%"
if %errorlevel%==0 set UPCamChangeMashineName=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangeDateFormat
Echo     Змінюю формат дати та роздільник
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Locales.TimeFormat=dd/MM/yyyy%%20HH:mm:ss"
if %errorlevel%==0 set UPCamChangeDateFormat=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure


:UPCamChangeMDSettingandSheduler
Echo     Включаю детекцію руху та змінюю розклад роботи відеодетектора руху
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].Enable=true&MotionDetect[0].EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[1][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[2][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[3][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[4][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[5][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[6][0]=1%%2000:00:00-%startworkday%:00"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[1][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[2][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[3][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[4][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[5][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[6][1]=1%%20%endworkday%:00-23:59:59"
if %errorlevel%==0 set UPCamChangeMDSettingandSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamEnableSDErrorEmail
Echo     Включаю сповіщення на E-mail про вихід з ладу MicroSD карти
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.MailEnable=true"
if %errorlevel%==0 set UPCamEnableSDErrorEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamEnableIPConfEmail
Echo     Включаю сповіщення на E-mail про IP-конфлікт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.RecordEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.MailEnable=true"
if %errorlevel%==0 set UPCamEnableIPConfEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangeVideoSheduler
Echo     Змінюю розклад запису відео
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Record[0].TimeSection[0][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[0][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[1][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[1][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[2][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[2][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[3][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[3][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[4][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[4][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[5][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[5][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[6][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[6][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[7][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[7][1]=6%%20%endworkday%:00-23:59:59"
if %errorlevel%==0 set UPCamChangeVideoSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangeSnapSheduler
Echo     Змінюю розклад запису снапшотів
if not defined UPCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined UPCamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[1][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[5][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if %errorlevel%==0 set UPCamChangeSnapSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamChangeFTPSetting
if defined UPCamFTP Echo     Включаю FTP та ввожу Логін та пароль
if defined UPCamFTP if defined UPCamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined UPCamFTP if not defined UPCamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=2%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined UPCamFTP if %errorlevel%==0 set UPCamChangeFTPSetting=Так
if defined UPCamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined UPCamFTP GoTo UPCamSinglyConfigure
if not defined UPCamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined UPCamFTP echo      0 - Перети до налаштування цього параметру
if not defined UPCamFTP echo      1 - Вийти в попереднє меню
if not defined UPCamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined UPCamFTP if %errorlevel%==1 GoTO UPCamQuestionAboutFTP
if not defined UPCamFTP if %errorlevel%==2 GoTo UPCamSinglyConfigure

:UPCamChangePassword
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
if %errorlevel%==0 set UPCamChangePassword=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamPIR
Echo      Налаштовую PIR-сповіщення про відкриття ТТ
set /p PIRWorkDayStart=Введiть час відриття магазину в будні за мінусом 10 хв (08:50):
set /p PIRWorkDayEnd=Тепер введіть час закінчення періоду роботи PIR в будні + 119 хв (10:49):
set /p PIRSatStart=Введiть час відриття магазину в суботу за мінусом 10 хв (08:50):
set /p PIRSatEnd=Тепер введіть час закінчення періоду роботи PIR в суботу + 119 хв (10:49):
set /p PIRSunStart=Введiть час відриття магазину в неділю за мінусом 10 хв (09:50):
set /p PIRSunEnd=Тепер введіть час закінчення періоду роботи PIR в неділю + 119 хв (11:49):
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Alarm[0].Enable=false&Alarm[0].Name=Input&Alarm[1].Enable=true&Alarm[1].EventHandler.AlarmOutEnable=false&Alarm[1].EventHandler.Dejitter=0&Alarm[1].EventHandler.ExAlarmOutEnable=false&Alarm[1].EventHandler.MailEnable=true&Alarm[1].EventHandler.SnapshotEnable=false&Alarm[1].EventHandler.TimeSection[0][0]=1%%20%PIRSunStart%:00-%PIRSunEnd%:00&Alarm[1].EventHandler.TimeSection[1][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[2][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[3][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[4][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[5][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[6][0]=1%%20%PIRSatStart%:00-%PIRSatEnd%:00&Alarm[1].Name=PIR"
if %errorlevel%==0 set UPCamPIR=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure

:UPCamEmail
Echo      Налаштовую параметри E-mail
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP2%/cgi-bin/configManager.cgi?action=setConfig&Email.Address=smtp.gmail.com&Email.Anonymous=false&Email.AttachEnable=true&Email.Authentication=true&Email.Enable=true&Email.HealthReport.Enable=false&Email.HealthReport.Interval=60&Email.OnlyAttachment=false&Email.Password=%EmailPassword%&Email.Port=465&Email.SendInterv=7200&Email.SslEnable=true&Email.Title=Unpacking_%MashineName%&Email.TlsEnable=false&Email.SendAddress=%Subnet%.company.departament@gmail.com&Email.Receivers[0]=%Subnet%.company.departament@gmail.com&Email.UserName=%Subnet%.company.departament@gmail.com"
if %errorlevel%==0 set UPCamEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo UPCamSinglyConfigure



Rem +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
:ConfigSC1Cam
cls
color b0
set SC1CamFTP=
set SC1CamPhone=
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                           Меню налаштування камери %NetworkIP%%Subnet%.%TempCamIP3%
echo      ************************************************************************************************************
if not defined subnetset echo Не задана підмережа. Подальші дії без цього параметра марні.
if not defined subnetset Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито налаштування підмережі"
if not defined subnetset GoTo SetSubnet
echo      0 - Авто налаштування
echo      1 - Лише зніна IP-адреси та паролю.
echo      2 - Зміна кожного конкретного параметру поодинці
echo      3 - Інфо про MicroSD
echo      4 - Перезавантажити камеру
echo      5 - Зробити скріншот
echo      p - Вихід в головне меню
echo.
echo.
echo.
echo.
CHOICE /N /C 012p345 /M "Виберіть дію описану вище ˄ ˄ ˄ ˄ ˄ ˄ ˄"
if %errorlevel%==1 GoTO SC1CamAutoConfigure
if %errorlevel%==2 GoTo SC1CamIP&PASSConfigure
if %errorlevel%==3 GoTo SC1CamSinglyConfigurefirst
if %errorlevel%==4 GoTo MENU-0
if %errorlevel%==5 GoTo SC1CamGetMicroSD
if %errorlevel%==6 GoTo SC1CamReboot
if %errorlevel%==7 GoTo SC1GetSnapshotandSendfromEmail


:SC1CamGetMicroSD
Echo     Перевіряю присутність MicroSD
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/storageDevice.cgi?action=factory.getCollect"
CHOICE /N /T 15 /C yn /D n /M "Показати детальну інформацію про MicroSD?  Так - y, Нi - n"
if %errorlevel%==2 GoTo SC1CamSkipAllInfoMicroSD
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/storageDevice.cgi?action=getDeviceAllInfo"
Choice /N /T 20 /D N /M "Через 20 сек. буде відкрито попереднє меню"
GoTO ConfigSC1Cam
:SC1CamSkipAllInfoMicroSD
GoTo ConfigSC1Cam



:SC1CamReboot
Echo     Перезавантажую камеру
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/magicBox.cgi?action=reboot"
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито головне меню"
GoTO MENU-0


:SC1GetSnapshotandSendfromEmail
set SC1FileName=Вітрина телефони %ShowTitleName%.jpg
set SC1MailSubject=Фото з камер - %ShowTitleName%
set SC1MailBody=Час надсилання: %TIME:~0,2%:%TIME:~3,2% Камера: Вітрина телефони
set SC1MailAttach=%TempDirectory%\%SC1FileName%
curl -o "%TempDirectory%\%SC1FileName%" --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/snapshot.cgi?"
CHOICE /N /T 30 /C ynr /D n /M "Надiслати Фото через E-mail?  Так - y, Нi - n, Так, на mailreciver@gmail.com - r"
if %errorlevel%==2 GoTo ConfigSC1Cam
if %errorlevel%==1 set /p SC1MailTo=Введiть пошту на яку вiдправити архiв:
if %errorlevel%==1 Goto SC1SendTo
if %errorlevel%==3 Goto SC1SendToRomanKret
:SC1SendTo
mailalert  -r "%SC1MailTo%" -s "%SC1MailSubject%" -b "%SC1MailBody%" -a "%SC1MailAttach%"
GoTo ConfigSC1Cam
:SC1SendToRomanKret
set SC1MailTo=mailreciver@gmail.com
mailalert  -r "%SC1MailTo%" -s "%SC1MailSubject%" -b "%SC1MailBody%" -a "%SC1MailAttach%"
GoTo ConfigSC1Cam


:SC1CamAutoConfigure
CHOICE /N /C yn /M "Чи відправляє ця камера фото на FTP?  Так - y, Нi - n"
if %errorlevel%==1 set SC1CamFTP=YES
if defined SC1CamFTP CHOICE /N /C yn /M "Чи основний об'єкт - телефони?  Так - y, Нi - n"
if %errorlevel%==1 set SC1CamPhone=YES
CHOICE /N /T 15 /C yn /D y /M "Чи налаштувати E-mail?  Так - y, Нi - n"
if %errorlevel%==1 set SC1CamEmail=YES
CHOICE /N /T 15 /C yn /D n /M "Чи налаштувати PIR-сповіщення про відкриття ТТ?  Так - y, Нi - n"
if %errorlevel%==1 set SC1CamPIR=YES
if defined SC1CamPIR set /p PIRWorkDayStart=Введiть час відриття магазину в будні за мінусом 10 хв (08:50):
if defined SC1CamPIR set /p PIRWorkDayEnd=Тепер введіть час закінчення періоду роботи PIR в будні + 119 хв (10:49):
if defined SC1CamPIR set /p PIRSatStart=Введiть час відриття магазину в суботу за мінусом 10 хв (08:50):
if defined SC1CamPIR set /p PIRSatEnd=Тепер введіть час закінчення періоду роботи PIR в суботу + 119 хв (10:49):
if defined SC1CamPIR set /p PIRSunStart=Введiть час відриття магазину в неділю за мінусом 10 хв (09:50):
if defined SC1CamPIR set /p PIRSunEnd=Тепер введіть час закінчення періоду роботи PIR в неділю + 119 хв (11:49):
Choice /N /T 5 /D N /M "Через 5 сек. будуть проведені налаштування"
Echo      Налаштовую автоматичне перезавантаження
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootEnable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootDay=1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootHour=7&AutoMaintain.AutoRebootMinute=0"
Echo      Включаю та налаштовую NTP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NTP.Address=10.0.0.1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NTP.Port=123"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NTP.TimeZone=2"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NTP.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NTP.UpdatePeriod=5"
Echo     Налаштовую перехід на літній та зимовий час
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Hour=4"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Month=10"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Hour=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Month=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnable=true"
Echo      Встановлюю режим зображення "Regular"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&VideoInOptions[0].NightOptions.SwitchMode=4"
Echo      Редагую кодування та бітрейт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].ExtraFormat[0].Video.BitRate=192&Encode[0].ExtraFormat[0].Video.BitRateControl=CBR&Encode[0].ExtraFormat[0].Video.Compression=H.265&Encode[0].ExtraFormat[0].Video.Height=480&Encode[0].ExtraFormat[0].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.Quality=6&Encode[0].ExtraFormat[2].AudioEnable=true&Encode[0].MainFormat[0].Video.BitRateControl=VBR&Encode[0].MainFormat[0].Video.GOP=20&Encode[0].MainFormat[0].Video.Profile=Main&Encode[0].MainFormat[0].Video.Quality=6&Encode[0].MainFormat[1].Video.BitRateControl=VBR&Encode[0].MainFormat[1].Video.GOP=20&Encode[0].MainFormat[1].Video.Profile=Main&Encode[0].MainFormat[1].Video.Quality=6&Encode[0].MainFormat[2].Video.BitRateControl=VBR&Encode[0].MainFormat[2].Video.GOP=20&Encode[0].MainFormat[2].Video.Profile=Main&Encode[0].MainFormat[2].Video.Quality=6&Encode[0].MainFormat[3].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.GOP=20"
Echo      Редагую якість та затримки снапшотів
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].SnapFormat[0].Video.FPS=0.010000&Encode[0].SnapFormat[0].Video.Quality=6&Encode[0].SnapFormat[1].Video.Quality=6
if defined SC1CamFTP Echo      Встановлюю розташування для збереження снапшотів на FTP
if defined SC1CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&RecordStoragePoint[0].TimingSnapShot.Local=false&RecordStoragePoint[0].TimingSnapShot.Remote=true"
Echo      Змінюю титульне ім'я
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.EncodeBlend=true&ChannelTitle[0].Name=%TitleName%"
Echo      Змінюю позицію часу та титульного імені
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.Rect[0]=5383&VideoWidget[0].ChannelTitle.Rect[1]=395&VideoWidget[0].ChannelTitle.Rect[2]=8170&VideoWidget[0].ChannelTitle.Rect[3]=974&VideoWidget[0].TimeTitle.Rect[0]=5617&VideoWidget[0].TimeTitle.Rect[1]=0&VideoWidget[0].TimeTitle.Rect[2]=8170&VideoWidget[0].TimeTitle.Rect[3]=526"
Echo     Виключаю DHCP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DhcpEnable=false"
Echo     Змінюю MTU
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.MTU=%MTU%"
Echo     Змінюю маску підмережі
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.SubnetMask=255.255.255.0"
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%NetworkIP%%Subnet%.1"
Echo     Змінюю машинне ім'я камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&General.MachineName=Show_Case_1_%MashineName%"
Echo     Змінюю формат дати та роздільник
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.TimeFormat=dd/MM/yyyy%%20HH:mm:ss"
Echo     Включаю детекцію руху та змінюю розклад роботи відеодетектора руху
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].Enable=true&MotionDetect[0].EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[1][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[2][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[3][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[4][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[5][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[6][0]=1%%2000:00:00-%startworkday%:00"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[1][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[2][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[3][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[4][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[5][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[6][1]=1%%20%endworkday%:00-23:59:59"
Echo     Включаю сповіщення на E-mail про вихід з ладу MicroSD карти
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.MailEnable=true"
Echo     Включаю сповіщення на E-mail про IP-конфлікт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.RecordEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.MailEnable=true"
Echo     Змінюю розклад запису відео
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Record[0].TimeSection[0][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[0][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[1][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[1][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[2][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[2][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[3][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[3][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[4][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[4][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[5][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[5][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[6][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[6][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[7][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[7][1]=6%%20%endworkday%:00-23:59:59"
Echo     Змінюю розклад запису снапшотів
if not defined SC1CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined SC1CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[1][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[5][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined SC1CamFTP Echo     Включаю FTP та ввожу Логін та пароль
if defined SC1CamFTP if defined SC1CamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined SC1CamFTP if not defined SC1CamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=2%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined SC1CamEmail Echo      Налаштовую параметри E-mail
if defined SC1CamEmail curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Email.Address=smtp.gmail.com&Email.Anonymous=false&Email.AttachEnable=true&Email.Authentication=true&Email.Enable=true&Email.HealthReport.Enable=false&Email.HealthReport.Interval=60&Email.OnlyAttachment=false&Email.Password=%EmailPassword%&Email.Port=465&Email.SendInterv=7200&Email.SslEnable=true&Email.Title=Show_Case_1_%MashineName%&Email.TlsEnable=false&Email.SendAddress=%Subnet%.company.departament@gmail.com&Email.Receivers[0]=%Subnet%.company.departament@gmail.com&Email.UserName=%Subnet%.company.departament@gmail.com"
if defined SC1CamPIR Echo      Налаштовую PIR-сповіщення про відкриття ТТ
if defined SC1CamPIR curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Alarm[0].Enable=false&Alarm[0].Name=Input&Alarm[1].Enable=true&Alarm[1].EventHandler.AlarmOutEnable=false&Alarm[1].EventHandler.Dejitter=0&Alarm[1].EventHandler.ExAlarmOutEnable=false&Alarm[1].EventHandler.MailEnable=true&Alarm[1].EventHandler.SnapshotEnable=false&Alarm[1].EventHandler.TimeSection[0][0]=1%%20%PIRSunStart%:00-%PIRSunEnd%:00&Alarm[1].EventHandler.TimeSection[1][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[2][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[3][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[4][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[5][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[6][0]=1%%20%PIRSatStart%:00-%PIRSatEnd%:00&Alarm[1].Name=PIR"
Echo     Автоматичні налаштування проведено!
CHOICE /N /C yn /M "Чи зробити скріншот?  Так - y, Нi - n"
if %errorlevel%==2 GoTo SC1AutoCamIP&PASSConfigure
set SC1FileName=Вітрина телефони - %ShowTitleName%.jpg
set SC1MailSubject=Фото з камер - %ShowTitleName%
set SC1MailBody=Час надсилання: %TIME:~0,2%:%TIME:~3,2% Камера: Вітрина телефони
set SC1MailAttach=%TempDirectory%\%SC1FileName%
curl -o "%TempDirectory%\%SC1FileName%" --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/snapshot.cgi?"
CHOICE /N /T 30 /C ynr /D n /M "Надiслати Фото через E-mail?  Так - y, Нi - n, Так, на mailreciver@gmail.com - r"
if %errorlevel%==2 GoTo SC1AutoCamIP&PASSConfigure
if %errorlevel%==1 set /p SC1MailTo=Введiть пошту на яку вiдправити архiв:
if %errorlevel%==1 Goto SC1AutoSendTo
if %errorlevel%==3 Goto SC1AutoSendToRomanKret
:SC1AutoSendTo
mailalert  -r "%SC1MailTo%" -s "%SC1MailSubject%" -b "%SC1MailBody%" -a "%SC1MailAttach%"
GoTo SC1AutoCamIP&PASSConfigure
:SC1AutoSendToRomanKret
set SC1MailTo=mailreciver@gmail.com
mailalert  -r "%SC1MailTo%" -s "%SC1MailSubject%" -b "%SC1MailBody%" -a "%SC1MailAttach%"

:SC1AutoCamIP&PASSConfigure
CHOICE /N /C yn /M "Змінити IP та пароль?  Так - y, Нi - n"
if %errorlevel%==2 GoTo ConfigSC1Cam
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
Echo     Змінюю адресу камери
curl --user admin:%RegularPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP3%"
Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито головне меню"
GoTO MENU-0
:SC1CamIP&PASSConfigure
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
Echo     Змінюю адресу камери
curl --user admin:%RegularPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP3%"
Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито головне меню"
GoTO MENU-0

:SC1CamSinglyConfigurefirst
cls
color 75
set SC1CamFTP=
set SC1CamPhone=
set SC1CamImageSettingRegular=Ні
set SC1CamEncoding=Ні
set SC1CamQualityTimingSnapshot=Ні
set SC1CamLocationSnapshotFTP=Ні
set SC1CamChangeTitleName=Ні
set SC1CamChangePositionTimeTitle=Ні
set SC1CamOffDHCP=Ні
set SC1CamChangeMTU=Ні
set SC1CamChangeIPfromTemptoRegular=Ні
set SC1CamChangeIPfromTemptoUserDefined=Ні
set SC1CamChangeMask=Ні
set SC1CamChangeGateway=Ні
set SC1CamChangeGatewayfromTemptoUserDefined=Ні
set SC1CamChangeMashineName=Ні
set SC1CamChangeDateFormat=Ні
set SC1CamChangeMDSettingandSheduler=Ні
set SC1CamEnableSDErrorEmail=Ні
set SC1CamEnableIPConfEmail=Ні
set SC1CamChangeVideoSheduler=Ні
set SC1CamChangeSnapSheduler=Ні
set SC1CamChangeFTPSetting=Ні
set SC1CamChangePassword=Ні
set SC1CamAutoRebootOff=Ні
set SC1CamNTP=Ні
set SC1CamDST=Ні
set SC1CamPIR=
set SC1CamEmail=
:SC1CamSinglyConfigure
cls
color 75
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                             Зміна кожного конкретного параметру поодинці для камери %NetworkIP%%Subnet%.%TempCamIP3%
echo      ************************************************************************************************************
if not defined subnetset echo Не задана підмережа. Подальші дії без цього параметра марні.
if not defined subnetset Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито налаштування підмережі"
if not defined subnetset GoTo SetSubnet
echo      q - Чи відправляє ця камера фото на FTP                       Задано: %SC1CamFTP%
echo      w - Чи основний об'єкт - телефони?                            Задано: %SC1CamPhone%
echo      1 - Виключити автоматичне перезавантаження                    Виконано:  %SC1CamAutoRebootOff%
echo      2 - Налаштувати NTP                                           Виконано:  %SC1CamNTP%
echo      3 - Налаштування переходу на літній/зимовий час               Виконано:  %SC1CamDST%
echo      e - Встановити режим зображення "Regular"                     Виконано:  %SC1CamImageSettingRegular%
echo      r - Встановити кодування та бітрейт                           Виконано:  %SC1CamEncoding%
echo      t - Встановити якість та затримки снапшотів                   Виконано:  %SC1CamQualityTimingSnapshot%
echo      y - Встановити розташування для збереження снапшотів на FTP   Виконано:  %SC1CamLocationSnapshotFTP%
echo      u - Змінити титульне ім'я                                     Виконано:  %SC1CamChangeTitleName%
echo      i - Змінити позицію часу та титульного імені                  Виконано:  %SC1CamChangePositionTimeTitle%
echo      a - Виключити DHCP                                            Виконано:  %SC1CamOffDHCP%
echo      s - Змінити MTU                                               Виконано:  %SC1CamChangeMTU%
echo      d - Змінити адресу камери                                     Виконано:  %SC1CamChangeIPfromTemptoRegular%
echo      f - Змінити адресу камери на користувацьку                    Виконано:  %SC1CamChangeIPfromTemptoUserDefined%
echo      g - Змінити маску підмережі                                   Виконано:  %SC1CamChangeMask%
echo      h - Змінити шлюз                                              Виконано:  %SC1CamChangeGateway%
echo      j - Змінити шлюз на користувацький                            Виконано:  %SC1CamChangeGatewayfromTemptoUserDefined%
echo      k - Змінити машинне ім'я камери                               Виконано:  %SC1CamChangeMashineName%
echo      l - Змінити формат дати та роздільник                         Виконано:  %SC1CamChangeDateFormat%
echo      z - Змінити розклад роботи відеодетектора руху                Виконано:  %SC1CamChangeMDSettingandSheduler%
echo      x - Сповіщення на E-mail про вихід з ладу MicroSD             Виконано:  %SC1CamEnableSDErrorEmail%
echo      c - Включити сповіщення на E-mail про IP-конфлікт             Виконано:  %SC1CamEnableIPConfEmail%
echo      v - Змінити розклад запису відео                              Виконано:  %SC1CamChangeVideoSheduler%
echo      b - Змінити розклад запису снапшотів                          Виконано:  %SC1CamChangeSnapSheduler%
echo      n - Включити FTP та ввести Логін та пароль                    Виконано:  %SC1CamChangeFTPSetting%
echo      m - Змінити пароль                                            Виконано:  %SC1CamChangePassword%
echo      4 - Налаштувати E-mail                                        Виконано:  %SC1CamEmail%
echo      5 - Налаштувати PIR-сповіщення про відкриття ТТ               Виконано:  %SC1CamPIR%
echo.
echo      o - Вихід в попереднє меню
echo      p - Вихід в головне меню
CHOICE /N /C qwertyuiasdfghjklzxcvbnmop12345 /M "Що саме налаштовуємо чи що робимо?"
if %errorlevel%==1 GoTO SC1CamQuestionAboutFTP
if %errorlevel%==2 GoTo SC1CamQuestionAboutPhone
if %errorlevel%==3 GoTo SC1CamImageSettingRegular
if %errorlevel%==4 GoTo SC1CamEncoding
if %errorlevel%==5 GoTo SC1CamQualityTimingSnapshot
if %errorlevel%==6 GoTo SC1CamLocationSnapshotFTP
if %errorlevel%==7 GoTo SC1CamChangeTitleName
if %errorlevel%==8 GoTo SC1CamChangePositionTimeTitle
if %errorlevel%==9 GoTo SC1CamOffDHCP
if %errorlevel%==10 GoTo SC1CamChangeMTU
if %errorlevel%==11 GoTo SC1CamChangeIPfromTemptoRegular
if %errorlevel%==12 GoTo SC1CamChangeIPfromTemptoUserDefined
if %errorlevel%==13 GoTo SC1CamChangeMask
if %errorlevel%==14 GoTo SC1CamChangeGateway
if %errorlevel%==15 GoTo SC1CamChangeGatewayfromTemptoUserDefined
if %errorlevel%==16 GoTo SC1CamChangeMashineName
if %errorlevel%==17 GoTo SC1CamChangeDateFormat
if %errorlevel%==18 GoTo SC1CamChangeMDSettingandSheduler
if %errorlevel%==19 GoTo SC1CamEnableSDErrorEmail
if %errorlevel%==20 GoTo SC1CamEnableIPConfEmail
if %errorlevel%==21 GoTo SC1CamChangeVideoSheduler
if %errorlevel%==22 GoTo SC1CamChangeSnapSheduler
if %errorlevel%==23 GoTo SC1CamChangeFTPSetting
if %errorlevel%==24 GoTo SC1CamChangePassword
if %errorlevel%==25 GoTo ConfigSC1Cam
if %errorlevel%==26 GoTo MENU-0
if %errorlevel%==27 GoTo SC1CamAutoRebootOff
if %errorlevel%==28 GoTo SC1CamNTP
if %errorlevel%==29 GoTo SC1CamDST
if %errorlevel%==30 GoTo SC1CamEmail
if %errorlevel%==31 GoTo SC1CamPIR


:SC1CamAutoRebootOff
Echo      Налаштовую автоматичне перезавантаження
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootEnable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootDay=1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootHour=7&AutoMaintain.AutoRebootMinute=0"
if %errorlevel%==0 set SC1CamAutoRebootOff=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamNTP
Echo      Включаю та налаштовую NTP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NTP.Address=10.0.0.1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NTP.Port=123"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NTP.TimeZone=2"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NTP.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NTP.UpdatePeriod=5"
if %errorlevel%==0 set SC1CamNTP=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamDST
Echo     Налаштовую перехід на літній та зимовий час
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Hour=4"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Month=10"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Hour=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Month=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnable=true"
if %errorlevel%==0 set SC1CamDST=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure




:SC1CamQuestionAboutFTP
CHOICE /N /C yn /M "Чи відправляє ця камера фото на FTP?  Так - y, Нi - n"
if %errorlevel%==2 set SC1CamFTP=
if %errorlevel%==1 set SC1CamFTP=YES
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamQuestionAboutPhone
if defined SC1CamFTP CHOICE /N /C yn /M "Чи основний об'єкт - телефони?  Так - y, Нi - n"
if defined SC1CamFTP if %errorlevel%==1 set SC1CamPhone=YES
if defined SC1CamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined SC1CamFTP GoTo SC1CamSinglyConfigure
if not defined SC1CamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined SC1CamFTP echo      0 - Перети до налаштування цього параметру
if not defined SC1CamFTP echo      1 - Вийти в попереднє меню
if not defined SC1CamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined SC1CamFTP if %errorlevel%==1 GoTO SC1CamQuestionAboutFTP
if not defined SC1CamFTP if %errorlevel%==2 GoTo SC1CamSinglyConfigure

:SC1CamImageSettingRegular
Echo      Встановлюю режим зображення "Regular"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&VideoInOptions[0].NightOptions.SwitchMode=4"
if %errorlevel%==0 set SC1CamImageSettingRegular=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamEncoding
Echo      Редагую кодування та бітрейт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].ExtraFormat[0].Video.BitRate=192&Encode[0].ExtraFormat[0].Video.BitRateControl=CBR&Encode[0].ExtraFormat[0].Video.Compression=H.265&Encode[0].ExtraFormat[0].Video.Height=480&Encode[0].ExtraFormat[0].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.Quality=6&Encode[0].ExtraFormat[2].AudioEnable=true&Encode[0].MainFormat[0].Video.BitRateControl=VBR&Encode[0].MainFormat[0].Video.GOP=20&Encode[0].MainFormat[0].Video.Profile=Main&Encode[0].MainFormat[0].Video.Quality=6&Encode[0].MainFormat[1].Video.BitRateControl=VBR&Encode[0].MainFormat[1].Video.GOP=20&Encode[0].MainFormat[1].Video.Profile=Main&Encode[0].MainFormat[1].Video.Quality=6&Encode[0].MainFormat[2].Video.BitRateControl=VBR&Encode[0].MainFormat[2].Video.GOP=20&Encode[0].MainFormat[2].Video.Profile=Main&Encode[0].MainFormat[2].Video.Quality=6&Encode[0].MainFormat[3].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.GOP=20"
if %errorlevel%==0 set SC1CamEncoding=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure


:SC1CamQualityTimingSnapshot
Echo      Редагую якість та затримки снапшотів
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].SnapFormat[0].Video.FPS=0.010000&Encode[0].SnapFormat[0].Video.Quality=6&Encode[0].SnapFormat[1].Video.Quality=6
if %errorlevel%==0 set SC1CamQualityTimingSnapshot=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamLocationSnapshotFTP
if defined SC1CamFTP Echo      Встановлюю розташування для збереження снапшотів на FTP
if defined SC1CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&RecordStoragePoint[0].TimingSnapShot.Local=false&RecordStoragePoint[0].TimingSnapShot.Remote=true"
if defined SC1CamFTP if %errorlevel%==0 set SC1CamLocationSnapshotFTP=Так
if defined SC1CamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined SC1CamFTP GoTo SC1CamSinglyConfigure
if not defined SC1CamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined SC1CamFTP echo      0 - Перети до налаштування цього параметру
if not defined SC1CamFTP echo      1 - Вийти в попереднє меню
if not defined SC1CamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined SC1CamFTP if %errorlevel%==1 GoTO SC1CamQuestionAboutFTP
if not defined SC1CamFTP if %errorlevel%==2 GoTo SC1CamSinglyConfigure

:SC1CamChangeTitleName
Echo      Змінюю титульне ім'я
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.EncodeBlend=true&ChannelTitle[0].Name=%TitleName%"
if %errorlevel%==0 set SC1CamChangeTitleName=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangePositionTimeTitle
Echo      Змінюю позицію часу та титульного імені
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.Rect[0]=5383&VideoWidget[0].ChannelTitle.Rect[1]=395&VideoWidget[0].ChannelTitle.Rect[2]=8170&VideoWidget[0].ChannelTitle.Rect[3]=974&VideoWidget[0].TimeTitle.Rect[0]=5617&VideoWidget[0].TimeTitle.Rect[1]=0&VideoWidget[0].TimeTitle.Rect[2]=8170&VideoWidget[0].TimeTitle.Rect[3]=526"
if %errorlevel%==0 set SC1CamChangePositionTimeTitle=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamOffDHCP
Echo     Виключаю DHCP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DhcpEnable=false"
if %errorlevel%==0 set SC1CamOffDHCP=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangeMTU
Echo     Змінюю MTU
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.MTU=%MTU%"
if %errorlevel%==0 set SC1CamChangeMTU=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangeIPfromTemptoRegular
Echo     Змінюю адресу камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP3%"
if %errorlevel%==0 set SC1CamChangeIPfromTemptoRegular=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangeIPfromTemptoUserDefined
set /p UserDefinedIP=Введiть повністю адресу на яку ви хочете змінити IP-адресу камери:
Echo     Змінюю адресу камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%UserDefinedIP%"
if %errorlevel%==0 set SC1CamChangeIPfromTemptoUserDefined=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangeMask
Echo     Змінюю маску підмережі
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.SubnetMask=255.255.255.0"
if %errorlevel%==0 set SC1CamChangeMask=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangeGateway
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%NetworkIP%%Subnet%.1"
if %errorlevel%==0 set SC1CamChangeGateway=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangeGatewayfromTemptoUserDefined
set /p UserDefinedIP=Введiть повністю адресу на яка зараз не камері:
set /p UserDefinedGateway=Введiть повністю адресу шлюзу який необхідно встановити:
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%UserDefinedIP%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%UserDefinedGateway%"
if %errorlevel%==0 set SC1CamChangeGatewayfromTemptoUserDefined=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangeMashineName
Echo     Змінюю машинне ім'я камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&General.MachineName=Show_Case_1_%MashineName%"
if %errorlevel%==0 set SC1CamChangeMashineName=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangeDateFormat
Echo     Змінюю формат дати та роздільник
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Locales.TimeFormat=dd/MM/yyyy%%20HH:mm:ss"
if %errorlevel%==0 set SC1CamChangeDateFormat=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure


:SC1CamChangeMDSettingandSheduler
Echo     Включаю детекцію руху та змінюю розклад роботи відеодетектора руху
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].Enable=true&MotionDetect[0].EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[1][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[2][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[3][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[4][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[5][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[6][0]=1%%2000:00:00-%startworkday%:00"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[1][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[2][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[3][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[4][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[5][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[6][1]=1%%20%endworkday%:00-23:59:59"
if %errorlevel%==0 set SC1CamChangeMDSettingandSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamEnableSDErrorEmail
Echo     Включаю сповіщення на E-mail про вихід з ладу MicroSD карти
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.MailEnable=true"
if %errorlevel%==0 set SC1CamEnableSDErrorEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamEnableIPConfEmail
Echo     Включаю сповіщення на E-mail про IP-конфлікт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.RecordEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.MailEnable=true"
if %errorlevel%==0 set SC1CamEnableIPConfEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangeVideoSheduler
Echo     Змінюю розклад запису відео
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Record[0].TimeSection[0][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[0][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[1][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[1][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[2][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[2][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[3][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[3][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[4][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[4][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[5][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[5][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[6][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[6][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[7][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[7][1]=6%%20%endworkday%:00-23:59:59"
if %errorlevel%==0 set SC1CamChangeVideoSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangeSnapSheduler
Echo     Змінюю розклад запису снапшотів
if not defined SC1CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined SC1CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[1][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[5][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if %errorlevel%==0 set SC1CamChangeSnapSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamChangeFTPSetting
if defined SC1CamFTP Echo     Включаю FTP та ввожу Логін та пароль
if defined SC1CamFTP if defined SC1CamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined SC1CamFTP if not defined SC1CamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=2%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined SC1CamFTP if %errorlevel%==0 set SC1CamChangeFTPSetting=Так
if defined SC1CamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined SC1CamFTP GoTo SC1CamSinglyConfigure
if not defined SC1CamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined SC1CamFTP echo      0 - Перети до налаштування цього параметру
if not defined SC1CamFTP echo      1 - Вийти в попереднє меню
if not defined SC1CamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined SC1CamFTP if %errorlevel%==1 GoTO SC1CamQuestionAboutFTP
if not defined SC1CamFTP if %errorlevel%==2 GoTo SC1CamSinglyConfigure

:SC1CamChangePassword
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
if %errorlevel%==0 set SC1CamChangePassword=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamPIR
Echo      Налаштовую PIR-сповіщення про відкриття ТТ
set /p PIRWorkDayStart=Введiть час відриття магазину в будні за мінусом 10 хв (08:50):
set /p PIRWorkDayEnd=Тепер введіть час закінчення періоду роботи PIR в будні + 119 хв (10:49):
set /p PIRSatStart=Введiть час відриття магазину в суботу за мінусом 10 хв (08:50):
set /p PIRSatEnd=Тепер введіть час закінчення періоду роботи PIR в суботу + 119 хв (10:49):
set /p PIRSunStart=Введiть час відриття магазину в неділю за мінусом 10 хв (09:50):
set /p PIRSunEnd=Тепер введіть час закінчення періоду роботи PIR в неділю + 119 хв (11:49):
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Alarm[0].Enable=false&Alarm[0].Name=Input&Alarm[1].Enable=true&Alarm[1].EventHandler.AlarmOutEnable=false&Alarm[1].EventHandler.Dejitter=0&Alarm[1].EventHandler.ExAlarmOutEnable=false&Alarm[1].EventHandler.MailEnable=true&Alarm[1].EventHandler.SnapshotEnable=false&Alarm[1].EventHandler.TimeSection[0][0]=1%%20%PIRSunStart%:00-%PIRSunEnd%:00&Alarm[1].EventHandler.TimeSection[1][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[2][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[3][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[4][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[5][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[6][0]=1%%20%PIRSatStart%:00-%PIRSatEnd%:00&Alarm[1].Name=PIR"
if %errorlevel%==0 set SC1CamPIR=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

:SC1CamEmail
Echo      Налаштовую параметри E-mail
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP3%/cgi-bin/configManager.cgi?action=setConfig&Email.Address=smtp.gmail.com&Email.Anonymous=false&Email.AttachEnable=true&Email.Authentication=true&Email.Enable=true&Email.HealthReport.Enable=false&Email.HealthReport.Interval=60&Email.OnlyAttachment=false&Email.Password=%EmailPassword%&Email.Port=465&Email.SendInterv=7200&Email.SslEnable=true&Email.Title=Show_Case_1_%MashineName%&Email.TlsEnable=false&Email.SendAddress=%Subnet%.company.departament@gmail.com&Email.Receivers[0]=%Subnet%.company.departament@gmail.com&Email.UserName=%Subnet%.company.departament@gmail.com"
if %errorlevel%==0 set SC1CamEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC1CamSinglyConfigure

Rem +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
:ConfigSC2Cam
cls
color b0
set SC2CamFTP=
set SC2CamPhone=
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                           Меню налаштування камери %NetworkIP%%Subnet%.%TempCamIP4%
echo      ************************************************************************************************************
if not defined subnetset echo Не задана підмережа. Подальші дії без цього параметра марні.
if not defined subnetset Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито налаштування підмережі"
if not defined subnetset GoTo SetSubnet
echo      0 - Авто налаштування
echo      1 - Лише зніна IP-адреси та паролю.
echo      2 - Зміна кожного конкретного параметру поодинці
echo      3 - Інфо про MicroSD
echo      4 - Перезавантажити камеру
echo      5 - Зробити скріншот
echo      p - Вихід в головне меню
echo.
echo.
echo.
echo.
CHOICE /N /C 012p345 /M "Виберіть дію описану вище ˄ ˄ ˄ ˄ ˄ ˄ ˄"
if %errorlevel%==1 GoTO SC2CamAutoConfigure
if %errorlevel%==2 GoTo SC2CamIP&PASSConfigure
if %errorlevel%==3 GoTo SC2CamSinglyConfigurefirst
if %errorlevel%==4 GoTo MENU-0
if %errorlevel%==5 GoTo SC2CamGetMicroSD
if %errorlevel%==6 GoTo SC2CamReboot
if %errorlevel%==7 GoTo SC2GetSnapshotandSendfromEmail


:SC2CamGetMicroSD
Echo     Перевіряю присутність MicroSD
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/storageDevice.cgi?action=factory.getCollect"
CHOICE /N /T 15 /C yn /D n /M "Показати детальну інформацію про MicroSD?  Так - y, Нi - n"
if %errorlevel%==2 GoTo SC2CamSkipAllInfoMicroSD
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/storageDevice.cgi?action=getDeviceAllInfo"
Choice /N /T 20 /D N /M "Через 20 сек. буде відкрито попереднє меню"
GoTO ConfigSC2Cam
:SC2CamSkipAllInfoMicroSD
GoTo ConfigSC2Cam



:SC2CamReboot
Echo     Перезавантажую камеру
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/magicBox.cgi?action=reboot"
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито головне меню"
GoTO MENU-0


:SC2GetSnapshotandSendfromEmail
set SC2FileName=Вітрина Інше %ShowTitleName%.jpg
set SC2MailSubject=Фото з камер - %ShowTitleName%
set SC2MailBody=Час надсилання: %TIME:~0,2%:%TIME:~3,2% Камера: Вітрина інше
set SC2MailAttach=%TempDirectory%\%SC2FileName%
curl -o "%TempDirectory%\%SC2FileName%" --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/snapshot.cgi?"
CHOICE /N /T 30 /C ynr /D n /M "Надiслати Фото через E-mail?  Так - y, Нi - n, Так, на mailreciver@gmail.com - r"
if %errorlevel%==2 GoTo ConfigSC2Cam
if %errorlevel%==1 set /p SC2MailTo=Введiть пошту на яку вiдправити архiв:
if %errorlevel%==1 Goto SC2SendTo
if %errorlevel%==3 Goto SC2SendToRomanKret
:SC2SendTo
mailalert  -r "%SC2MailTo%" -s "%SC2MailSubject%" -b "%SC2MailBody%" -a "%SC2MailAttach%"
GoTo ConfigSC2Cam
:SC2SendToRomanKret
set SC2MailTo=mailreciver@gmail.com
mailalert  -r "%SC2MailTo%" -s "%SC2MailSubject%" -b "%SC2MailBody%" -a "%SC2MailAttach%"
GoTo ConfigSC2Cam




:SC2CamAutoConfigure
CHOICE /N /C yn /M "Чи відправляє ця камера фото на FTP?  Так - y, Нi - n"
if %errorlevel%==1 set SC2CamFTP=YES
if defined SC2CamFTP CHOICE /N /C yn /M "Чи основний об'єкт - телефони?  Так - y, Нi - n"
if %errorlevel%==1 set SC2CamPhone=YES
Choice /N /T 5 /D N /M "Через 5 сек. будуть проведені налаштування"
Echo      Налаштовую автоматичне перезавантаження
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootEnable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootDay=1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootHour=7&AutoMaintain.AutoRebootMinute=0"
Echo      Включаю та налаштовую NTP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NTP.Address=10.0.0.1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NTP.Port=123"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NTP.TimeZone=2"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NTP.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NTP.UpdatePeriod=5"
Echo     Налаштовую перехід на літній та зимовий час
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Hour=4"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Month=10"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Hour=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Month=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnable=true"
Echo      Встановлюю режим зображення "Regular"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&VideoInOptions[0].NightOptions.SwitchMode=4"
Echo      Редагую кодування та бітрейт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].ExtraFormat[0].Video.BitRate=192&Encode[0].ExtraFormat[0].Video.BitRateControl=CBR&Encode[0].ExtraFormat[0].Video.Compression=H.265&Encode[0].ExtraFormat[0].Video.Height=480&Encode[0].ExtraFormat[0].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.Quality=6&Encode[0].ExtraFormat[2].AudioEnable=true&Encode[0].MainFormat[0].Video.BitRateControl=VBR&Encode[0].MainFormat[0].Video.GOP=20&Encode[0].MainFormat[0].Video.Profile=Main&Encode[0].MainFormat[0].Video.Quality=6&Encode[0].MainFormat[1].Video.BitRateControl=VBR&Encode[0].MainFormat[1].Video.GOP=20&Encode[0].MainFormat[1].Video.Profile=Main&Encode[0].MainFormat[1].Video.Quality=6&Encode[0].MainFormat[2].Video.BitRateControl=VBR&Encode[0].MainFormat[2].Video.GOP=20&Encode[0].MainFormat[2].Video.Profile=Main&Encode[0].MainFormat[2].Video.Quality=6&Encode[0].MainFormat[3].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.GOP=20"
Echo      Редагую якість та затримки снапшотів
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].SnapFormat[0].Video.FPS=0.010000&Encode[0].SnapFormat[0].Video.Quality=6&Encode[0].SnapFormat[1].Video.Quality=6
if defined SC2CamFTP Echo      Встановлюю розташування для збереження снапшотів на FTP
if defined SC2CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&RecordStoragePoint[0].TimingSnapShot.Local=false&RecordStoragePoint[0].TimingSnapShot.Remote=true"
Echo      Змінюю титульне ім'я
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.EncodeBlend=true&ChannelTitle[0].Name=%TitleName%"
Echo      Змінюю позицію часу та титульного імені
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.Rect[0]=5383&VideoWidget[0].ChannelTitle.Rect[1]=395&VideoWidget[0].ChannelTitle.Rect[2]=8170&VideoWidget[0].ChannelTitle.Rect[3]=974&VideoWidget[0].TimeTitle.Rect[0]=5617&VideoWidget[0].TimeTitle.Rect[1]=0&VideoWidget[0].TimeTitle.Rect[2]=8170&VideoWidget[0].TimeTitle.Rect[3]=526"
Echo     Виключаю DHCP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DhcpEnable=false"
Echo     Змінюю MTU
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.MTU=%MTU%"
Echo     Змінюю маску підмережі
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.SubnetMask=255.255.255.0"
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%NetworkIP%%Subnet%.1"
Echo     Змінюю машинне ім'я камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&General.MachineName=Show_Case_2_%MashineName%"
Echo     Змінюю формат дати та роздільник
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.TimeFormat=dd/MM/yyyy%%20HH:mm:ss"
Echo     Включаю детекцію руху та змінюю розклад роботи відеодетектора руху
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].Enable=true&MotionDetect[0].EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[1][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[2][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[3][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[4][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[5][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[6][0]=1%%2000:00:00-%startworkday%:00"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[1][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[2][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[3][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[4][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[5][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[6][1]=1%%20%endworkday%:00-23:59:59"
Echo     Включаю сповіщення на E-mail про вихід з ладу MicroSD карти
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.MailEnable=true"
Echo     Включаю сповіщення на E-mail про IP-конфлікт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.RecordEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.MailEnable=true"
Echo     Змінюю розклад запису відео
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Record[0].TimeSection[0][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[0][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[1][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[1][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[2][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[2][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[3][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[3][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[4][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[4][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[5][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[5][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[6][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[6][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[7][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[7][1]=6%%20%endworkday%:00-23:59:59"
Echo     Змінюю розклад запису снапшотів
if not defined SC2CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined SC2CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[1][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[5][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined SC2CamFTP Echo     Включаю FTP та ввожу Логін та пароль
if defined SC2CamFTP if defined SC2CamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined SC2CamFTP if not defined SC2CamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=2%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined SC2CamEmail Echo      Налаштовую параметри E-mail
if defined SC2CamEmail curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Email.Address=smtp.gmail.com&Email.Anonymous=false&Email.AttachEnable=true&Email.Authentication=true&Email.Enable=true&Email.HealthReport.Enable=false&Email.HealthReport.Interval=60&Email.OnlyAttachment=false&Email.Password=%EmailPassword%&Email.Port=465&Email.SendInterv=7200&Email.SslEnable=true&Email.Title=Show_Case_2_%MashineName%&Email.TlsEnable=false&Email.SendAddress=%Subnet%.company.departament@gmail.com&Email.Receivers[0]=%Subnet%.company.departament@gmail.com&Email.UserName=%Subnet%.company.departament@gmail.com"
if defined SC2CamPIR Echo      Налаштовую PIR-сповіщення про відкриття ТТ
if defined SC2CamPIR curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Alarm[0].Enable=false&Alarm[0].Name=Input&Alarm[1].Enable=true&Alarm[1].EventHandler.AlarmOutEnable=false&Alarm[1].EventHandler.Dejitter=0&Alarm[1].EventHandler.ExAlarmOutEnable=false&Alarm[1].EventHandler.MailEnable=true&Alarm[1].EventHandler.SnapshotEnable=false&Alarm[1].EventHandler.TimeSection[0][0]=1%%20%PIRSunStart%:00-%PIRSunEnd%:00&Alarm[1].EventHandler.TimeSection[1][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[2][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[3][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[4][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[5][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[6][0]=1%%20%PIRSatStart%:00-%PIRSatEnd%:00&Alarm[1].Name=PIR"
Echo     Автоматичні налаштування проведено!
CHOICE /N /C yn /M "Чи зробити скріншот?  Так - y, Нi - n"
if %errorlevel%==2 GoTo SC2AutoCamIP&PASSConfigure
set SC2FileName=Вітрина інше - %ShowTitleName%.jpg
set SC2MailSubject=Фото з камер - %ShowTitleName%
set SC2MailBody=Час надсилання: %TIME:~0,2%:%TIME:~3,2% Камера: Вітрина інше
set SC2MailAttach=%TempDirectory%\%SC2FileName%
curl -o "%TempDirectory%\%SC2FileName%" --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/snapshot.cgi?"
CHOICE /N /T 30 /C ynr /D n /M "Надiслати Фото через E-mail?  Так - y, Нi - n, Так, на mailreciver@gmail.com - r"
if %errorlevel%==2 GoTo SC2AutoCamIP&PASSConfigure
if %errorlevel%==1 set /p SC2MailTo=Введiть пошту на яку вiдправити архiв:
if %errorlevel%==1 Goto SC2AutoSendTo
if %errorlevel%==3 Goto SC2AutoSendToRomanKret
:SC2AutoSendTo
mailalert  -r "%SC2MailTo%" -s "%SC2MailSubject%" -b "%SC2MailBody%" -a "%SC2MailAttach%"
GoTo SC2AutoCamIP&PASSConfigure
:SC2AutoSendToRomanKret
set SC2MailTo=mailreciver@gmail.com
mailalert  -r "%SC2MailTo%" -s "%SC2MailSubject%" -b "%SC2MailBody%" -a "%SC2MailAttach%"

:SC2AutoCamIP&PASSConfigure
CHOICE /N /C yn /M "Змінити IP та пароль?  Так - y, Нi - n"
if %errorlevel%==2 GoTo ConfigSC2Cam
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
Echo     Змінюю адресу камери
curl --user admin:%RegularPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP4%"
Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито головне меню"
GoTO MENU-0
:SC2CamIP&PASSConfigure
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
Echo     Змінюю адресу камери
curl --user admin:%RegularPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP4%"
Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито головне меню"
GoTO MENU-0

:SC2CamSinglyConfigurefirst
cls
color 75
set SC2CamFTP=
set SC2CamPhone=
set SC2CamImageSettingRegular=Ні
set SC2CamEncoding=Ні
set SC2CamQualityTimingSnapshot=Ні
set SC2CamLocationSnapshotFTP=Ні
set SC2CamChangeTitleName=Ні
set SC2CamChangePositionTimeTitle=Ні
set SC2CamOffDHCP=Ні
set SC2CamChangeMTU=Ні
set SC2CamChangeIPfromTemptoRegular=Ні
set SC2CamChangeIPfromTemptoUserDefined=Ні
set SC2CamChangeMask=Ні
set SC2CamChangeGateway=Ні
set SC2CamChangeGatewayfromTemptoUserDefined=Ні
set SC2CamChangeMashineName=Ні
set SC2CamChangeDateFormat=Ні
set SC2CamChangeMDSettingandSheduler=Ні
set SC2CamEnableSDErrorEmail=Ні
set SC2CamEnableIPConfEmail=Ні
set SC2CamChangeVideoSheduler=Ні
set SC2CamChangeSnapSheduler=Ні
set SC2CamChangeFTPSetting=Ні
set SC2CamChangePassword=Ні
set SC2CamAutoRebootOff=Ні
set SC2CamNTP=Ні
set SC2CamDST=Ні
set SC2CamPIR=
set SC2CamEmail=

:SC2CamSinglyConfigure
cls
color 75
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                             Зміна кожного конкретного параметру поодинці для камери %NetworkIP%%Subnet%.%TempCamIP4%
echo      ************************************************************************************************************
if not defined subnetset echo Не задана підмережа. Подальші дії без цього параметра марні.
if not defined subnetset Choice /N /T 15 /D N /M "Через 15 сек. буде відкрито налаштування підмережі"
if not defined subnetset GoTo SetSubnet
echo      q - Чи відправляє ця камера фото на FTP                       Задано: %SC2CamFTP%
echo      w - Чи основний об'єкт - телефони?                            Задано: %SC2CamPhone%
echo      1 - Виключити автоматичне перезавантаження                    Виконано:  %SC2CamAutoRebootOff%
echo      2 - Налаштувати NTP                                           Виконано:  %SC2CamNTP%
echo      3 - Налаштування переходу на літній/зимовий час               Виконано:  %SC2CamDST%
echo      e - Встановити режим зображення "Regular"                     Виконано:  %SC2CamImageSettingRegular%
echo      r - Встановити кодування та бітрейт                           Виконано:  %SC2CamEncoding%
echo      t - Встановити якість та затримки снапшотів                   Виконано:  %SC2CamQualityTimingSnapshot%
echo      y - Встановити розташування для збереження снапшотів на FTP   Виконано:  %SC2CamLocationSnapshotFTP%
echo      u - Змінити титульне ім'я                                     Виконано:  %SC2CamChangeTitleName%
echo      i - Змінити позицію часу та титульного імені                  Виконано:  %SC2CamChangePositionTimeTitle%
echo      a - Виключити DHCP                                            Виконано:  %SC2CamOffDHCP%
echo      s - Змінити MTU                                               Виконано:  %SC2CamChangeMTU%
echo      d - Змінити адресу камери                                     Виконано:  %SC2CamChangeIPfromTemptoRegular%
echo      f - Змінити адресу камери на користувацьку                    Виконано:  %SC2CamChangeIPfromTemptoUserDefined%
echo      g - Змінити маску підмережі                                   Виконано:  %SC2CamChangeMask%
echo      h - Змінити шлюз                                              Виконано:  %SC2CamChangeGateway%
echo      j - Змінити шлюз на користувацький                            Виконано:  %SC2CamChangeGatewayfromTemptoUserDefined%
echo      k - Змінити машинне ім'я камери                               Виконано:  %SC2CamChangeMashineName%
echo      l - Змінити формат дати та роздільник                         Виконано:  %SC2CamChangeDateFormat%
echo      z - Змінити розклад роботи відеодетектора руху                Виконано:  %SC2CamChangeMDSettingandSheduler%
echo      x - Сповіщення на E-mail про вихід з ладу MicroSD             Виконано:  %SC2CamEnableSDErrorEmail%
echo      c - Включити сповіщення на E-mail про IP-конфлікт             Виконано:  %SC2CamEnableIPConfEmail%
echo      v - Змінити розклад запису відео                              Виконано:  %SC2CamChangeVideoSheduler%
echo      b - Змінити розклад запису снапшотів                          Виконано:  %SC2CamChangeSnapSheduler%
echo      n - Включити FTP та ввести Логін та пароль                    Виконано:  %SC2CamChangeFTPSetting%
echo      m - Змінити пароль                                            Виконано:  %SC2CamChangePassword%
echo      4 - Налаштувати E-mail                                        Виконано:  %SC2CamEmail%
echo      5 - Налаштувати PIR-сповіщення про відкриття ТТ               Виконано:  %SC2CamPIR%
echo.
echo      o - Вихід в попереднє меню
echo      p - Вихід в головне меню
CHOICE /N /C qwertyuiasdfghjklzxcvbnmop12345 /M "Що саме налаштовуємо чи що робимо?"
if %errorlevel%==1 GoTO SC2CamQuestionAboutFTP
if %errorlevel%==2 GoTo SC2CamQuestionAboutPhone
if %errorlevel%==3 GoTo SC2CamImageSettingRegular
if %errorlevel%==4 GoTo SC2CamEncoding
if %errorlevel%==5 GoTo SC2CamQualityTimingSnapshot
if %errorlevel%==6 GoTo SC2CamLocationSnapshotFTP
if %errorlevel%==7 GoTo SC2CamChangeTitleName
if %errorlevel%==8 GoTo SC2CamChangePositionTimeTitle
if %errorlevel%==9 GoTo SC2CamOffDHCP
if %errorlevel%==10 GoTo SC2CamChangeMTU
if %errorlevel%==11 GoTo SC2CamChangeIPfromTemptoRegular
if %errorlevel%==12 GoTo SC2CamChangeIPfromTemptoUserDefined
if %errorlevel%==13 GoTo SC2CamChangeMask
if %errorlevel%==14 GoTo SC2CamChangeGateway
if %errorlevel%==15 GoTo SC2CamChangeGatewayfromTemptoUserDefined
if %errorlevel%==16 GoTo SC2CamChangeMashineName
if %errorlevel%==17 GoTo SC2CamChangeDateFormat
if %errorlevel%==18 GoTo SC2CamChangeMDSettingandSheduler
if %errorlevel%==19 GoTo SC2CamEnableSDErrorEmail
if %errorlevel%==20 GoTo SC2CamEnableIPConfEmail
if %errorlevel%==21 GoTo SC2CamChangeVideoSheduler
if %errorlevel%==22 GoTo SC2CamChangeSnapSheduler
if %errorlevel%==23 GoTo SC2CamChangeFTPSetting
if %errorlevel%==24 GoTo SC2CamChangePassword
if %errorlevel%==25 GoTo ConfigSC2Cam
if %errorlevel%==26 GoTo MENU-0
if %errorlevel%==27 GoTo SC2CamAutoRebootOff
if %errorlevel%==28 GoTo SC2CamNTP
if %errorlevel%==29 GoTo SC2CamDST
if %errorlevel%==30 GoTo SC2CamEmail
if %errorlevel%==31 GoTo SC2CamPIR


:SC2CamAutoRebootOff
Echo      Налаштовую автоматичне перезавантаження
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootEnable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootDay=1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&AutoMaintain.AutoRebootHour=7&AutoMaintain.AutoRebootMinute=0"
if %errorlevel%==0 set SC2CamAutoRebootOff=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamNTP
Echo      Включаю та налаштовую NTP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NTP.Address=10.0.0.1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NTP.Port=123"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NTP.TimeZone=2"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NTP.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NTP.UpdatePeriod=5"
if %errorlevel%==0 set SC2CamNTP=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamDST
Echo     Налаштовую перехід на літній та зимовий час
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Hour=4"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Month=10"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnd.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Hour=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Month=3"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Week=-1"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Day=0"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTStart.Year=2018"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.DSTEnable=true"
if %errorlevel%==0 set SC2CamDST=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure




:SC2CamQuestionAboutFTP
CHOICE /N /C yn /M "Чи відправляє ця камера фото на FTP?  Так - y, Нi - n"
if %errorlevel%==2 set SC2CamFTP=
if %errorlevel%==1 set SC2CamFTP=YES
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamQuestionAboutPhone
if defined SC2CamFTP CHOICE /N /C yn /M "Чи основний об'єкт - телефони?  Так - y, Нi - n"
if defined SC2CamFTP if %errorlevel%==1 set SC2CamPhone=YES
if defined SC2CamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined SC2CamFTP GoTo SC2CamSinglyConfigure
if not defined SC2CamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined SC2CamFTP echo      0 - Перети до налаштування цього параметру
if not defined SC2CamFTP echo      1 - Вийти в попереднє меню
if not defined SC2CamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined SC2CamFTP if %errorlevel%==1 GoTO SC2CamQuestionAboutFTP
if not defined SC2CamFTP if %errorlevel%==2 GoTo SC2CamSinglyConfigure

:SC2CamImageSettingRegular
Echo      Встановлюю режим зображення "Regular"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&VideoInOptions[0].NightOptions.SwitchMode=4"
if %errorlevel%==0 set SC2CamImageSettingRegular=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamEncoding
Echo      Редагую кодування та бітрейт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].ExtraFormat[0].Video.BitRate=192&Encode[0].ExtraFormat[0].Video.BitRateControl=CBR&Encode[0].ExtraFormat[0].Video.Compression=H.265&Encode[0].ExtraFormat[0].Video.Height=480&Encode[0].ExtraFormat[0].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.Quality=6&Encode[0].ExtraFormat[2].AudioEnable=true&Encode[0].MainFormat[0].Video.BitRateControl=VBR&Encode[0].MainFormat[0].Video.GOP=20&Encode[0].MainFormat[0].Video.Profile=Main&Encode[0].MainFormat[0].Video.Quality=6&Encode[0].MainFormat[1].Video.BitRateControl=VBR&Encode[0].MainFormat[1].Video.GOP=20&Encode[0].MainFormat[1].Video.Profile=Main&Encode[0].MainFormat[1].Video.Quality=6&Encode[0].MainFormat[2].Video.BitRateControl=VBR&Encode[0].MainFormat[2].Video.GOP=20&Encode[0].MainFormat[2].Video.Profile=Main&Encode[0].MainFormat[2].Video.Quality=6&Encode[0].MainFormat[3].Video.Profile=Main&Encode[0].ExtraFormat[0].Video.GOP=20"
if %errorlevel%==0 set SC2CamEncoding=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure


:SC2CamQualityTimingSnapshot
Echo      Редагую якість та затримки снапшотів
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Encode[0].SnapFormat[0].Video.FPS=0.010000&Encode[0].SnapFormat[0].Video.Quality=6&Encode[0].SnapFormat[1].Video.Quality=6
if %errorlevel%==0 set SC2CamQualityTimingSnapshot=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamLocationSnapshotFTP
if defined SC2CamFTP Echo      Встановлюю розташування для збереження снапшотів на FTP
if defined SC2CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&RecordStoragePoint[0].TimingSnapShot.Local=false&RecordStoragePoint[0].TimingSnapShot.Remote=true"
if defined SC2CamFTP if %errorlevel%==0 set SC2CamLocationSnapshotFTP=Так
if defined SC2CamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined SC2CamFTP GoTo SC2CamSinglyConfigure
if not defined SC2CamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined SC2CamFTP echo      0 - Перети до налаштування цього параметру
if not defined SC2CamFTP echo      1 - Вийти в попереднє меню
if not defined SC2CamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined SC2CamFTP if %errorlevel%==1 GoTO SC2CamQuestionAboutFTP
if not defined SC2CamFTP if %errorlevel%==2 GoTo SC2CamSinglyConfigure

:SC2CamChangeTitleName
Echo      Змінюю титульне ім'я
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.EncodeBlend=true&ChannelTitle[0].Name=%TitleName%"
if %errorlevel%==0 set SC2CamChangeTitleName=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangePositionTimeTitle
Echo      Змінюю позицію часу та титульного імені
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&VideoWidget[0].ChannelTitle.Rect[0]=5383&VideoWidget[0].ChannelTitle.Rect[1]=395&VideoWidget[0].ChannelTitle.Rect[2]=8170&VideoWidget[0].ChannelTitle.Rect[3]=974&VideoWidget[0].TimeTitle.Rect[0]=5617&VideoWidget[0].TimeTitle.Rect[1]=0&VideoWidget[0].TimeTitle.Rect[2]=8170&VideoWidget[0].TimeTitle.Rect[3]=526"
if %errorlevel%==0 set SC2CamChangePositionTimeTitle=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamOffDHCP
Echo     Виключаю DHCP
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DhcpEnable=false"
if %errorlevel%==0 set SC2CamOffDHCP=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangeMTU
Echo     Змінюю MTU
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.MTU=%MTU%"
if %errorlevel%==0 set SC2CamChangeMTU=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangeIPfromTemptoRegular
Echo     Змінюю адресу камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%NetworkIP%%Subnet%.%RegularCamIP4%"
if %errorlevel%==0 set SC2CamChangeIPfromTemptoRegular=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangeIPfromTemptoUserDefined
set /p UserDefinedIP=Введiть повністю адресу на яку ви хочете змінити IP-адресу камери:
Echo     Змінюю адресу камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.IPAddress=%UserDefinedIP%"
if %errorlevel%==0 set SC2CamChangeIPfromTemptoUserDefined=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangeMask
Echo     Змінюю маску підмережі
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.SubnetMask=255.255.255.0"
if %errorlevel%==0 set SC2CamChangeMask=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangeGateway
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%NetworkIP%%Subnet%.1"
if %errorlevel%==0 set SC2CamChangeGateway=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangeGatewayfromTemptoUserDefined
set /p UserDefinedIP=Введiть повністю адресу на яка зараз не камері:
set /p UserDefinedGateway=Введiть повністю адресу шлюзу який необхідно встановити:
Echo     Змінюю шлюз
curl --user admin:%TempPass% --digest --globoff "http://%UserDefinedIP%/cgi-bin/configManager.cgi?action=setConfig&Network.eth0.DefaultGateway=%UserDefinedGateway%"
if %errorlevel%==0 set SC2CamChangeGatewayfromTemptoUserDefined=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangeMashineName
Echo     Змінюю машинне ім'я камери
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&General.MachineName=Show_Case_2_%MashineName%"
if %errorlevel%==0 set SC2CamChangeMashineName=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangeDateFormat
Echo     Змінюю формат дати та роздільник
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Locales.TimeFormat=dd/MM/yyyy%%20HH:mm:ss"
if %errorlevel%==0 set SC2CamChangeDateFormat=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure


:SC2CamChangeMDSettingandSheduler
Echo     Включаю детекцію руху та змінюю розклад роботи відеодетектора руху
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].Enable=true&MotionDetect[0].EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[1][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[2][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[3][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[4][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[5][0]=1%%2000:00:00-%startworkday%:00&MotionDetect[0].EventHandler.TimeSection[6][0]=1%%2000:00:00-%startworkday%:00"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&MotionDetect[0].EventHandler.TimeSection[0][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[1][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[2][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[3][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[4][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[5][1]=1%%20%endworkday%:00-23:59:59&MotionDetect[0].EventHandler.TimeSection[6][1]=1%%20%endworkday%:00-23:59:59"
if %errorlevel%==0 set SC2CamChangeMDSettingandSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamEnableSDErrorEmail
Echo     Включаю сповіщення на E-mail про вихід з ладу MicroSD карти
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&StorageFailure.EventHandler.MailEnable=true"
if %errorlevel%==0 set SC2CamEnableSDErrorEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamEnableIPConfEmail
Echo     Включаю сповіщення на E-mail про IP-конфлікт
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.Enable=true"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.AlarmOutEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.RecordEnable=false"
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&IPConflict.EventHandler.MailEnable=true"
if %errorlevel%==0 set SC2CamEnableIPConfEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangeVideoSheduler
Echo     Змінюю розклад запису відео
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Record[0].TimeSection[0][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[0][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[1][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[1][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[2][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[2][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[3][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[3][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[4][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[4][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[5][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[5][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[6][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[6][1]=6%%20%endworkday%:00-23:59:59&Record[0].TimeSection[7][0]=6%%2000:00:00-%startworkday%:00&Record[0].TimeSection[7][1]=6%%20%endworkday%:00-23:59:59"
if %errorlevel%==0 set SC2CamChangeVideoSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangeSnapSheduler
Echo     Змінюю розклад запису снапшотів
if not defined SC2CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if defined SC2CamFTP curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Snap[0].TimeSection[0][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[1][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[1][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[2][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[3][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[4][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[5][0]=1%%2009:58:20-09:59:00&Snap[0].TimeSection[5][1]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[6][0]=4%%2000:00:00-23:59:59&Snap[0].TimeSection[7][0]=4%%2000:00:00-23:59:59"
if %errorlevel%==0 set SC2CamChangeSnapSheduler=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamChangeFTPSetting
if defined SC2CamFTP Echo     Включаю FTP та ввожу Логін та пароль
if defined SC2CamFTP if defined SC2CamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined SC2CamFTP if not defined SC2CamPhone curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&NAS[0].UserName=2%FTPLogin%&NAS[0].Password=%FTPPass%&NAS[0].Address=%FTPADRESS%&NAS[0].Enable=true"
if defined SC2CamFTP if %errorlevel%==0 set SC2CamChangeFTPSetting=Так
if defined SC2CamFTP Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
if defined SC2CamFTP GoTo SC2CamSinglyConfigure
if not defined SC2CamFTP Echo      Не заданий параметр "Чи відправляє ця камера фото на FTP?
if not defined SC2CamFTP echo      0 - Перети до налаштування цього параметру
if not defined SC2CamFTP echo      1 - Вийти в попереднє меню
if not defined SC2CamFTP CHOICE /N /C 01 /M "Що робимо?"
if not defined SC2CamFTP if %errorlevel%==1 GoTO SC2CamQuestionAboutFTP
if not defined SC2CamFTP if %errorlevel%==2 GoTo SC2CamSinglyConfigure

:SC2CamChangePassword
Echo     Змінюю пароль
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/userManager.cgi?action=modifyPassword&name=admin&pwd=%RegularPass%&pwdOld=%TempPass%"
if %errorlevel%==0 set SC2CamChangePassword=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamPIR
Echo      Налаштовую PIR-сповіщення про відкриття ТТ
set /p PIRWorkDayStart=Введiть час відриття магазину в будні за мінусом 10 хв (08:50):
set /p PIRWorkDayEnd=Тепер введіть час закінчення періоду роботи PIR в будні + 119 хв (10:49):
set /p PIRSatStart=Введiть час відриття магазину в суботу за мінусом 10 хв (08:50):
set /p PIRSatEnd=Тепер введіть час закінчення періоду роботи PIR в суботу + 119 хв (10:49):
set /p PIRSunStart=Введiть час відриття магазину в неділю за мінусом 10 хв (09:50):
set /p PIRSunEnd=Тепер введіть час закінчення періоду роботи PIR в неділю + 119 хв (11:49):
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Alarm[0].Enable=false&Alarm[0].Name=Input&Alarm[1].Enable=true&Alarm[1].EventHandler.AlarmOutEnable=false&Alarm[1].EventHandler.Dejitter=0&Alarm[1].EventHandler.ExAlarmOutEnable=false&Alarm[1].EventHandler.MailEnable=true&Alarm[1].EventHandler.SnapshotEnable=false&Alarm[1].EventHandler.TimeSection[0][0]=1%%20%PIRSunStart%:00-%PIRSunEnd%:00&Alarm[1].EventHandler.TimeSection[1][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[2][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[3][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[4][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[5][0]=1%%20%PIRWorkDayStart%:00-%PIRWorkDayEnd%:00&Alarm[1].EventHandler.TimeSection[6][0]=1%%20%PIRSatStart%:00-%PIRSatEnd%:00&Alarm[1].Name=PIR"
if %errorlevel%==0 set SC2CamPIR=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

:SC2CamEmail
Echo      Налаштовую параметри E-mail
curl --user admin:%TempPass% --digest --globoff "http://%NetworkIP%%Subnet%.%TempCamIP4%/cgi-bin/configManager.cgi?action=setConfig&Email.Address=smtp.gmail.com&Email.Anonymous=false&Email.AttachEnable=true&Email.Authentication=true&Email.Enable=true&Email.HealthReport.Enable=false&Email.HealthReport.Interval=60&Email.OnlyAttachment=false&Email.Password=%EmailPassword%&Email.Port=465&Email.SendInterv=7200&Email.SslEnable=true&Email.Title=Show_Case_2_%MashineName%&Email.TlsEnable=false&Email.SendAddress=%Subnet%.company.departament@gmail.com&Email.Receivers[0]=%Subnet%.company.departament@gmail.com&Email.UserName=%Subnet%.company.departament@gmail.com"
if %errorlevel%==0 set SC2CamEmail=Так
Choice /N /T 10 /D N /M "Через 10 сек. буде відкрито попереднє меню"
GoTo SC2CamSinglyConfigure

Rem +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


:DelandExit
if exist "%TempDirectory%\*.jpg" CHOICE /N /T 15 /C yn /D y /M "Видалити тимчасові снапшоти  Так - y, Нi - n"
if %errorlevel%==1 GoTo DelTempSnapshot
if exist "%TempDirectory%\*.jpg" start %TempDirectory%
exit

:DelTempSnapshot
del /q "%TempDirectory%\*.jpg"
Exit


:GV-MENU
cls
color 0f
Set GVSplit=
echo      ************************************************************************************************************
echo                                                DAHUA NVR Split Controler
echo      ************************************************************************************************************
echo                                       Вибір каналу для відображення на NVR #1 IP:%1NVRIP%
echo      ************************************************************************************************************
echo  1 - Дрогобич пл. Ринок 21     +  23 - К.Буська Незалежності 32  +  45 - 
echo  2 - Дрогобич пл. Ринок Life   +  24 - Снятин Шевченка 145       +  46 - 
echo  3 - Дрогобич пл. Ринок 12     +  25 - Турка Міцкевича 2         +  47 - 
echo  4 - Дрогобич пл. Ринок 20     +  26 - Золочів Шашкевича 8       +  48 - 
echo  5 - Дрогобич пл. Ринок 31     +  27 - Надвірна Грушевського 1   +  49 - 
echo  6 - Дрогобич П. Орлика        +  28 - Радехів Л.Українки 3      +  50 - 
echo  7 - Борислав Міцкевича 6      +  29 - Болехів Франка 10А        +  51 - 
echo  8 - Борислав Міцкевича 3/4    +  30 - Сколе Д.Галицького 1      +  52 - 
echo  9 - Борислав ТКС              +  31 - Броди Золота 15           +  53 - 
echo  10 - Борислав Олімп           +  32 - Броди Замкова 2           +  54 - 
echo  11 - Борислав В.Великого      +  33 - Коломия Шевченка 25       +  55 - 
echo  12 - Самбір пл. Ринок 36      +  34 - Луцьк ТАМ-ТАМ             +  56 - 
echo  13 - Самбір пл. Ринок 37/2    +  35 - Луцьк ГЛОБУС              +  57 - 
echo  14 - Стебник Грушевського 6   +  36 - Стрий пл. Ринок 23        +  58 - 
echo  15 - Стебник Грушевс. Ринок   +  37 - Стрий пл. Ринок 36        +  59 - 
echo  16 - Мостиська Гайдамацька 1  +  38 - Львів Добробут            +  60 - 
echo  17 - Мостиська Гайдамацьк 1Б  +  39 - Львів Шпитальна 9         +  61 - 
echo  18 - Н.Яворівськ Бандери 18   +  40 - Бурштин Калушська         +  62 - 
echo  19 - Рогатин Шевченка 3       +  41 - Почаїв Шевченка 5Б        +  63 - 
echo  20 - Буськ Львівська 6        +  42 -                           +  64 - 
echo  21 - Бубач Галицька 44        +  43 -                           +  
echo  22 - Н.Розділ Шевченка 15     +  44 -                           +  0  - Спліт 64 каналів  
echo.
echo.
echo  Для виходу в попереднє меню натисніть "Enter" без вводу каналу


Set /p GVSplit=Введіть номер каналу який потрібно відкрити на ввесь екран:
if not defined GVSplit GoTo MENU-1
set /a GVSplit=%GVSplit%
if %GVSplit%==0 GoTo GVSplit64
if %GVSplit%==1	GoTo GVSplit1-01
if %GVSplit%==2 GoTo GVSplit1-02
if %GVSplit%==3	GoTo GVSplit1-03
if %GVSplit%==4	GoTo GVSplit1-04
if %GVSplit%==5	GoTo GVSplit1-05
if %GVSplit%==6	GoTo GVSplit1-06
if %GVSplit%==7	GoTo GVSplit1-07
if %GVSplit%==8	GoTo GVSplit1-08
if %GVSplit%==9	GoTo GVSplit1-09
if %GVSplit%==10 GoTo GVSplit1-10
if %GVSplit%==11 GoTo GVSplit1-11
if %GVSplit%==12 GoTo GVSplit1-12
if %GVSplit%==13 GoTo GVSplit1-13
if %GVSplit%==14 GoTo GVSplit1-14
if %GVSplit%==15 GoTo GVSplit1-15
if %GVSplit%==16 GoTo GVSplit1-16
if %GVSplit%==17 GoTo GVSplit1-17
if %GVSplit%==18 GoTo GVSplit1-18
if %GVSplit%==19 GoTo GVSplit1-19
if %GVSplit%==20 GoTo GVSplit1-20
if %GVSplit%==21 GoTo GVSplit1-21
if %GVSplit%==22 GoTo GVSplit1-22
if %GVSplit%==23 GoTo GVSplit1-23
if %GVSplit%==24 GoTo GVSplit1-24
if %GVSplit%==25 GoTo GVSplit1-25
if %GVSplit%==26 GoTo GVSplit1-26
if %GVSplit%==27 GoTo GVSplit1-27
if %GVSplit%==28 GoTo GVSplit1-28
if %GVSplit%==29 GoTo GVSplit1-29
if %GVSplit%==30 GoTo GVSplit1-30
if %GVSplit%==31 GoTo GVSplit1-31
if %GVSplit%==32 GoTo GVSplit1-32
if %GVSplit%==33 GoTo GVSplit1-33
if %GVSplit%==34 GoTo GVSplit1-34
if %GVSplit%==35 GoTo GVSplit1-35
if %GVSplit%==36 GoTo GVSplit1-36
if %GVSplit%==37 GoTo GVSplit1-37
if %GVSplit%==38 GoTo GVSplit1-38
if %GVSplit%==39 GoTo GVSplit1-39
if %GVSplit%==40 GoTo GVSplit1-40
if %GVSplit%==41 GoTo GVSplit1-41
if %GVSplit%==42 GoTo GVSplit1-42
if %GVSplit%==43 GoTo GVSplit1-43
if %GVSplit%==44 GoTo GVSplit1-44
if %GVSplit%==45 GoTo GVSplit1-45
if %GVSplit%==46 GoTo GVSplit1-46
if %GVSplit%==47 GoTo GVSplit1-47
if %GVSplit%==48 GoTo GVSplit1-48
if %GVSplit%==49 GoTo GVSplit1-49
if %GVSplit%==50 GoTo GVSplit1-50
if %GVSplit%==51 GoTo GVSplit1-51
if %GVSplit%==52 GoTo GVSplit1-52
if %GVSplit%==53 GoTo GVSplit1-53
if %GVSplit%==54 GoTo GVSplit1-54
if %GVSplit%==55 GoTo GVSplit1-55
if %GVSplit%==56 GoTo GVSplit1-56
if %GVSplit%==57 GoTo GVSplit1-57
if %GVSplit%==58 GoTo GVSplit1-58
if %GVSplit%==59 GoTo GVSplit1-59
if %GVSplit%==60 GoTo GVSplit1-60
if %GVSplit%==61 GoTo GVSplit1-61
if %GVSplit%==62 GoTo GVSplit1-62
if %GVSplit%==63 GoTo GVSplit1-63
if %GVSplit%==64 GoTo GVSplit1-64


:GVSplit64
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split64&group=0"
GoTo GV-MENU
:GVSplit1-01
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=0
GoTo GV-MENU
:GVSplit1-02
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=1
GoTo GV-MENU
:GVSplit1-03
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=2
GoTo GV-MENU
:GVSplit1-04
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=3
GoTo GV-MENU
:GVSplit1-05
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=4
GoTo GV-MENU
:GVSplit1-06
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=5
GoTo GV-MENU
:GVSplit1-07
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=6
GoTo GV-MENU
:GVSplit1-08
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=7
GoTo GV-MENU
:GVSplit1-09
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=8
GoTo GV-MENU
:GVSplit1-10
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=9
GoTo GV-MENU
:GVSplit1-11
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=10
GoTo GV-MENU
:GVSplit1-12
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=11
GoTo GV-MENU
:GVSplit1-13
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=12
GoTo GV-MENU
:GVSplit1-14
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=13
GoTo GV-MENU
:GVSplit1-15
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=14
GoTo GV-MENU
:GVSplit1-16
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=15
GoTo GV-MENU
:GVSplit1-17
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=16
GoTo GV-MENU
:GVSplit1-18
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=17
GoTo GV-MENU
:GVSplit1-19
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=18
GoTo GV-MENU
:GVSplit1-20
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=19
GoTo GV-MENU
:GVSplit1-21
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=20
GoTo GV-MENU
:GVSplit1-22
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=21
GoTo GV-MENU
:GVSplit1-23
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=22
GoTo GV-MENU
:GVSplit1-24
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=23
GoTo GV-MENU
:GVSplit1-25
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=24
GoTo GV-MENU
:GVSplit1-26
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=25
GoTo GV-MENU
:GVSplit1-27
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=26
GoTo GV-MENU
:GVSplit1-28
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=27
GoTo GV-MENU
:GVSplit1-29
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=28
GoTo GV-MENU
:GVSplit1-30
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=29
GoTo GV-MENU
:GVSplit1-31
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=30
GoTo GV-MENU
:GVSplit1-32
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=31
GoTo GV-MENU
:GVSplit1-33
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=32
GoTo GV-MENU
:GVSplit1-34
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=33
GoTo GV-MENU
:GVSplit1-35
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=34
GoTo GV-MENU
:GVSplit1-36
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=35
GoTo GV-MENU
:GVSplit1-37
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=36
GoTo GV-MENU
:GVSplit1-38
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=37
GoTo GV-MENU
:GVSplit1-39
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=38
GoTo GV-MENU
:GVSplit1-40
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=39
GoTo GV-MENU
:GVSplit1-41
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=40
GoTo GV-MENU
:GVSplit1-42
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=41
GoTo GV-MENU
:GVSplit1-43
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=42
GoTo GV-MENU
:GVSplit1-44
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=43
GoTo GV-MENU
:GVSplit1-45
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=44
GoTo GV-MENU
:GVSplit1-46
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=45
GoTo GV-MENU
:GVSplit1-47
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=46
GoTo GV-MENU
:GVSplit1-48
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=47
GoTo GV-MENU
:GVSplit1-49
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=48
GoTo GV-MENU
:GVSplit1-50
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=49
GoTo GV-MENU
:GVSplit1-51
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=50
GoTo GV-MENU
:GVSplit1-52
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=51
GoTo GV-MENU
:GVSplit1-53
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=52
GoTo GV-MENU
:GVSplit1-54
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=53
GoTo GV-MENU
:GVSplit1-55
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=54
GoTo GV-MENU
:GVSplit1-56
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=55
GoTo GV-MENU
:GVSplit1-57
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=56
GoTo GV-MENU
:GVSplit1-58
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=57
GoTo GV-MENU
:GVSplit1-59
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=58
GoTo GV-MENU
:GVSplit1-60
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=59
GoTo GV-MENU
:GVSplit1-61
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=60
GoTo GV-MENU
:GVSplit1-62
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=61
GoTo GV-MENU
:GVSplit1-63
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=62
GoTo GV-MENU
:GVSplit1-64
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=63
GoTo GV-MENU

:UP-MENU
cls
color 0f
Set UPSplit=
echo      ************************************************************************************************************
echo                                                DAHUA NVR Split Controler
echo      ************************************************************************************************************
echo                                       Вибір каналу для відображення на NVR #2 IP:%2NVRIP%
echo      ************************************************************************************************************
echo  1 - Дрогобич пл. Ринок 21     +  23 - К.Буська Незалежності 32  +  45 - 
echo  2 - Дрогобич пл. Ринок Life   +  24 - Снятин Шевченка 145       +  46 - 
echo  3 - Дрогобич пл. Ринок 12     +  25 - Турка Міцкевича 2         +  47 - 
echo  4 - Дрогобич пл. Ринок 20     +  26 - Золочів Шашкевича 8       +  48 - 
echo  5 - Дрогобич пл. Ринок 31     +  27 - Надвірна Грушевського 1   +  49 - 
echo  6 - Дрогобич П. Орлика        +  28 - Радехів Л.Українки 3      +  50 - 
echo  7 - Борислав Міцкевича 6      +  29 - Болехів Франка 10А        +  51 - 
echo  8 - Борислав Міцкевича 3/4    +  30 - Сколе Д.Галицького 1      +  52 - 
echo  9 - Борислав ТКС              +  31 - Броди Золота 15           +  53 - 
echo  10 - Борислав Олімп           +  32 - Броди Замкова 2           +  54 - 
echo  11 - Борислав В.Великого      +  33 - Коломия Шевченка 25       +  55 - 
echo  12 - Самбір пл. Ринок 36      +  34 - Луцьк ТАМ-ТАМ             +  56 - 
echo  13 - Самбір пл. Ринок 37/2    +  35 - Луцьк ГЛОБУС              +  57 - 
echo  14 - Стебник Грушевського 6   +  36 - Стрий пл. Ринок 23        +  58 - 
echo  15 - Стебник Грушевс. Ринок   +  37 - Стрий пл. Ринок 36        +  59 - 
echo  16 - Мостиська Гайдамацька 1  +  38 - Львів Добробут            +  60 - 
echo  17 - Мостиська Гайдамацьк 1Б  +  39 - Львів Шпитальна 9         +  61 - 
echo  18 - Н.Яворівськ Бандери 18   +  40 - Бурштин Калушська         +  62 - 
echo  19 - Рогатин Шевченка 3       +  41 - Почаїв Шевченка 5Б        +  63 - 
echo  20 - Буськ Львівська 6        +  42 -                           +  64 - 
echo  21 - Бубач Галицька 44        +  43 -                           +  
echo  22 - Н.Розділ Шевченка 15     +  44 -                           +  0  - Спліт 64 каналів  
echo.
echo.
echo  Для виходу в попереднє меню натисніть "Enter" без вводу каналу


Set /p UPSplit=Введіть номер каналу який потрібно відкрити на ввесь екран:
if not defined UPSplit GoTo MENU-1
set /a UPSplit=%UPSplit%
if %UPSplit%==0 GoTo UPSplit64
if %UPSplit%==1	GoTo UPSplit1-01
if %UPSplit%==2 GoTo UPSplit1-02
if %UPSplit%==3	GoTo UPSplit1-03
if %UPSplit%==4	GoTo UPSplit1-04
if %UPSplit%==5	GoTo UPSplit1-05
if %UPSplit%==6	GoTo UPSplit1-06
if %UPSplit%==7	GoTo UPSplit1-07
if %UPSplit%==8	GoTo UPSplit1-08
if %UPSplit%==9	GoTo UPSplit1-09
if %UPSplit%==10 GoTo UPSplit1-10
if %UPSplit%==11 GoTo UPSplit1-11
if %UPSplit%==12 GoTo UPSplit1-12
if %UPSplit%==13 GoTo UPSplit1-13
if %UPSplit%==14 GoTo UPSplit1-14
if %UPSplit%==15 GoTo UPSplit1-15
if %UPSplit%==16 GoTo UPSplit1-16
if %UPSplit%==17 GoTo UPSplit1-17
if %UPSplit%==18 GoTo UPSplit1-18
if %UPSplit%==19 GoTo UPSplit1-19
if %UPSplit%==20 GoTo UPSplit1-20
if %UPSplit%==21 GoTo UPSplit1-21
if %UPSplit%==22 GoTo UPSplit1-22
if %UPSplit%==23 GoTo UPSplit1-23
if %UPSplit%==24 GoTo UPSplit1-24
if %UPSplit%==25 GoTo UPSplit1-25
if %UPSplit%==26 GoTo UPSplit1-26
if %UPSplit%==27 GoTo UPSplit1-27
if %UPSplit%==28 GoTo UPSplit1-28
if %UPSplit%==29 GoTo UPSplit1-29
if %UPSplit%==30 GoTo UPSplit1-30
if %UPSplit%==31 GoTo UPSplit1-31
if %UPSplit%==32 GoTo UPSplit1-32
if %UPSplit%==33 GoTo UPSplit1-33
if %UPSplit%==34 GoTo UPSplit1-34
if %UPSplit%==35 GoTo UPSplit1-35
if %UPSplit%==36 GoTo UPSplit1-36
if %UPSplit%==37 GoTo UPSplit1-37
if %UPSplit%==38 GoTo UPSplit1-38
if %UPSplit%==39 GoTo UPSplit1-39
if %UPSplit%==40 GoTo UPSplit1-40
if %UPSplit%==41 GoTo UPSplit1-41
if %UPSplit%==42 GoTo UPSplit1-42
if %UPSplit%==43 GoTo UPSplit1-43
if %UPSplit%==44 GoTo UPSplit1-44
if %UPSplit%==45 GoTo UPSplit1-45
if %UPSplit%==46 GoTo UPSplit1-46
if %UPSplit%==47 GoTo UPSplit1-47
if %UPSplit%==48 GoTo UPSplit1-48
if %UPSplit%==49 GoTo UPSplit1-49
if %UPSplit%==50 GoTo UPSplit1-50
if %UPSplit%==51 GoTo UPSplit1-51
if %UPSplit%==52 GoTo UPSplit1-52
if %UPSplit%==53 GoTo UPSplit1-53
if %UPSplit%==54 GoTo UPSplit1-54
if %UPSplit%==55 GoTo UPSplit1-55
if %UPSplit%==56 GoTo UPSplit1-56
if %UPSplit%==57 GoTo UPSplit1-57
if %UPSplit%==58 GoTo UPSplit1-58
if %UPSplit%==59 GoTo UPSplit1-59
if %UPSplit%==60 GoTo UPSplit1-60
if %UPSplit%==61 GoTo UPSplit1-61
if %UPSplit%==62 GoTo UPSplit1-62
if %UPSplit%==63 GoTo UPSplit1-63
if %UPSplit%==64 GoTo UPSplit1-64


:UPSplit64
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split64&group=0"
GoTo UP-MENU
:UPSplit1-01
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=0
GoTo UP-MENU
:UPSplit1-02
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=1
GoTo UP-MENU
:UPSplit1-03
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=2
GoTo UP-MENU
:UPSplit1-04
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=3
GoTo UP-MENU
:UPSplit1-05
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=4
GoTo UP-MENU
:UPSplit1-06
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=5
GoTo UP-MENU
:UPSplit1-07
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=6
GoTo UP-MENU
:UPSplit1-08
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=7
GoTo UP-MENU
:UPSplit1-09
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=8
GoTo UP-MENU
:UPSplit1-10
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=9
GoTo UP-MENU
:UPSplit1-11
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=10
GoTo UP-MENU
:UPSplit1-12
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=11
GoTo UP-MENU
:UPSplit1-13
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=12
GoTo UP-MENU
:UPSplit1-14
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=13
GoTo UP-MENU
:UPSplit1-15
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=14
GoTo UP-MENU
:UPSplit1-16
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=15
GoTo UP-MENU
:UPSplit1-17
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=16
GoTo UP-MENU
:UPSplit1-18
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=17
GoTo UP-MENU
:UPSplit1-19
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=18
GoTo UP-MENU
:UPSplit1-20
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=19
GoTo UP-MENU
:UPSplit1-21
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=20
GoTo UP-MENU
:UPSplit1-22
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=21
GoTo UP-MENU
:UPSplit1-23
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=22
GoTo UP-MENU
:UPSplit1-24
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=23
GoTo UP-MENU
:UPSplit1-25
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=24
GoTo UP-MENU
:UPSplit1-26
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=25
GoTo UP-MENU
:UPSplit1-27
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=26
GoTo UP-MENU
:UPSplit1-28
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=27
GoTo UP-MENU
:UPSplit1-29
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=28
GoTo UP-MENU
:UPSplit1-30
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=29
GoTo UP-MENU
:UPSplit1-31
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=30
GoTo UP-MENU
:UPSplit1-32
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=31
GoTo UP-MENU
:UPSplit1-33
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=32
GoTo UP-MENU
:UPSplit1-34
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=33
GoTo UP-MENU
:UPSplit1-35
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=34
GoTo UP-MENU
:UPSplit1-36
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=35
GoTo UP-MENU
:UPSplit1-37
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=36
GoTo UP-MENU
:UPSplit1-38
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=37
GoTo UP-MENU
:UPSplit1-39
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=38
GoTo UP-MENU
:UPSplit1-40
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=39
GoTo UP-MENU
:UPSplit1-41
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=40
GoTo UP-MENU
:UPSplit1-42
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=41
GoTo UP-MENU
:UPSplit1-43
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=42
GoTo UP-MENU
:UPSplit1-44
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=43
GoTo UP-MENU
:UPSplit1-45
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=44
GoTo UP-MENU
:UPSplit1-46
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=45
GoTo UP-MENU
:UPSplit1-47
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=46
GoTo UP-MENU
:UPSplit1-48
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=47
GoTo UP-MENU
:UPSplit1-49
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=48
GoTo UP-MENU
:UPSplit1-50
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=49
GoTo UP-MENU
:UPSplit1-51
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=50
GoTo UP-MENU
:UPSplit1-52
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=51
GoTo UP-MENU
:UPSplit1-53
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=52
GoTo UP-MENU
:UPSplit1-54
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=53
GoTo UP-MENU
:UPSplit1-55
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=54
GoTo UP-MENU
:UPSplit1-56
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=55
GoTo UP-MENU
:UPSplit1-57
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=56
GoTo UP-MENU
:UPSplit1-58
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=57
GoTo UP-MENU
:UPSplit1-59
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=58
GoTo UP-MENU
:UPSplit1-60
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=59
GoTo UP-MENU
:UPSplit1-61
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=60
GoTo UP-MENU
:UPSplit1-62
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=61
GoTo UP-MENU
:UPSplit1-63
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=62
GoTo UP-MENU
:UPSplit1-64
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=63
GoTo UP-MENU

:SC1-MENU
cls
color 0f
Set SC1Split=
echo      ************************************************************************************************************
echo                                                DAHUA NVR Split Controler
echo      ************************************************************************************************************
echo                                       Вибір каналу для відображення на NVR #3 IP:%3NVRIP%
echo      ************************************************************************************************************
echo  1 - Дрогобич пл. Ринок 21     +  23 - К.Буська Незалежності 32  +  45 - 
echo  2 - Дрогобич пл. Ринок Life   +  24 - Снятин Шевченка 145       +  46 - 
echo  3 - Дрогобич пл. Ринок 12     +  25 - Турка Міцкевича 2         +  47 - 
echo  4 - Дрогобич пл. Ринок 20     +  26 - Золочів Шашкевича 8       +  48 - 
echo  5 - Дрогобич пл. Ринок 31     +  27 - Надвірна Грушевського 1   +  49 - 
echo  6 - Дрогобич П. Орлика        +  28 - Радехів Л.Українки 3      +  50 - 
echo  7 - Борислав Міцкевича 6      +  29 - Болехів Франка 10А        +  51 - 
echo  8 - Борислав Міцкевича 3/4    +  30 - Сколе Д.Галицького 1      +  52 - 
echo  9 - Борислав ТКС              +  31 - Броди Золота 15           +  53 - 
echo  10 - Борислав Олімп           +  32 - Броди Замкова 2           +  54 - 
echo  11 - Борислав В.Великого      +  33 - Коломия Шевченка 25       +  55 - 
echo  12 - Самбір пл. Ринок 36      +  34 - Луцьк ТАМ-ТАМ             +  56 - 
echo  13 - Самбір пл. Ринок 37/2    +  35 - Луцьк ГЛОБУС              +  57 - 
echo  14 - Стебник Грушевського 6   +  36 - Стрий пл. Ринок 23        +  58 - 
echo  15 - Стебник Грушевс. Ринок   +  37 - Стрий пл. Ринок 36        +  59 - 
echo  16 - Мостиська Гайдамацька 1  +  38 - Львів Добробут            +  60 - 
echo  17 - Мостиська Гайдамацьк 1Б  +  39 - Львів Шпитальна 9         +  61 - 
echo  18 - Н.Яворівськ Бандери 18   +  40 - Бурштин Калушська         +  62 - 
echo  19 - Рогатин Шевченка 3       +  41 - Почаїв Шевченка 5Б        +  63 - 
echo  20 - Буськ Львівська 6        +  42 -                           +  64 - 
echo  21 - Бубач Галицька 44        +  43 -                           +  
echo  22 - Н.Розділ Шевченка 15     +  44 -                           +  0  - Спліт 64 каналів  
echo.
echo.
echo  Для виходу в попереднє меню натисніть "Enter" без вводу каналу


Set /p SC1Split=Введіть номер каналу який потрібно відкрити на ввесь екран:
if not defined SC1Split GoTo MENU-1
set /a SC1Split=%SC1Split%
if %SC1Split%==0 GoTo SC1Split64
if %SC1Split%==1 GoTo SC1Split1-01
if %SC1Split%==2 GoTo SC1Split1-02
if %SC1Split%==3 GoTo SC1Split1-03
if %SC1Split%==4 GoTo SC1Split1-04
if %SC1Split%==5 GoTo SC1Split1-05
if %SC1Split%==6 GoTo SC1Split1-06
if %SC1Split%==7 GoTo SC1Split1-07
if %SC1Split%==8 GoTo SC1Split1-08
if %SC1Split%==9 GoTo SC1Split1-09
if %SC1Split%==10 GoTo SC1Split1-10
if %SC1Split%==11 GoTo SC1Split1-11
if %SC1Split%==12 GoTo SC1Split1-12
if %SC1Split%==13 GoTo SC1Split1-13
if %SC1Split%==14 GoTo SC1Split1-14
if %SC1Split%==15 GoTo SC1Split1-15
if %SC1Split%==16 GoTo SC1Split1-16
if %SC1Split%==17 GoTo SC1Split1-17
if %SC1Split%==18 GoTo SC1Split1-18
if %SC1Split%==19 GoTo SC1Split1-19
if %SC1Split%==20 GoTo SC1Split1-20
if %SC1Split%==21 GoTo SC1Split1-21
if %SC1Split%==22 GoTo SC1Split1-22
if %SC1Split%==23 GoTo SC1Split1-23
if %SC1Split%==24 GoTo SC1Split1-24
if %SC1Split%==25 GoTo SC1Split1-25
if %SC1Split%==26 GoTo SC1Split1-26
if %SC1Split%==27 GoTo SC1Split1-27
if %SC1Split%==28 GoTo SC1Split1-28
if %SC1Split%==29 GoTo SC1Split1-29
if %SC1Split%==30 GoTo SC1Split1-30
if %SC1Split%==31 GoTo SC1Split1-31
if %SC1Split%==32 GoTo SC1Split1-32
if %SC1Split%==33 GoTo SC1Split1-33
if %SC1Split%==34 GoTo SC1Split1-34
if %SC1Split%==35 GoTo SC1Split1-35
if %SC1Split%==36 GoTo SC1Split1-36
if %SC1Split%==37 GoTo SC1Split1-37
if %SC1Split%==38 GoTo SC1Split1-38
if %SC1Split%==39 GoTo SC1Split1-39
if %SC1Split%==40 GoTo SC1Split1-40
if %SC1Split%==41 GoTo SC1Split1-41
if %SC1Split%==42 GoTo SC1Split1-42
if %SC1Split%==43 GoTo SC1Split1-43
if %SC1Split%==44 GoTo SC1Split1-44
if %SC1Split%==45 GoTo SC1Split1-45
if %SC1Split%==46 GoTo SC1Split1-46
if %SC1Split%==47 GoTo SC1Split1-47
if %SC1Split%==48 GoTo SC1Split1-48
if %SC1Split%==49 GoTo SC1Split1-49
if %SC1Split%==50 GoTo SC1Split1-50
if %SC1Split%==51 GoTo SC1Split1-51
if %SC1Split%==52 GoTo SC1Split1-52
if %SC1Split%==53 GoTo SC1Split1-53
if %SC1Split%==54 GoTo SC1Split1-54
if %SC1Split%==55 GoTo SC1Split1-55
if %SC1Split%==56 GoTo SC1Split1-56
if %SC1Split%==57 GoTo SC1Split1-57
if %SC1Split%==58 GoTo SC1Split1-58
if %SC1Split%==59 GoTo SC1Split1-59
if %SC1Split%==60 GoTo SC1Split1-60
if %SC1Split%==61 GoTo SC1Split1-61
if %SC1Split%==62 GoTo SC1Split1-62
if %SC1Split%==63 GoTo SC1Split1-63
if %SC1Split%==64 GoTo SC1Split1-64


:SC1Split64
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split64&group=0"
GoTo SC1-MENU
:SC1Split1-01
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=0
GoTo SC1-MENU
:SC1Split1-02
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=1
GoTo SC1-MENU
:SC1Split1-03
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=2
GoTo SC1-MENU
:SC1Split1-04
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=3
GoTo SC1-MENU
:SC1Split1-05
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=4
GoTo SC1-MENU
:SC1Split1-06
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=5
GoTo SC1-MENU
:SC1Split1-07
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=6
GoTo SC1-MENU
:SC1Split1-08
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=7
GoTo SC1-MENU
:SC1Split1-09
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=8
GoTo SC1-MENU
:SC1Split1-10
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=9
GoTo SC1-MENU
:SC1Split1-11
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=10
GoTo SC1-MENU
:SC1Split1-12
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=11
GoTo SC1-MENU
:SC1Split1-13
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=12
GoTo SC1-MENU
:SC1Split1-14
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=13
GoTo SC1-MENU
:SC1Split1-15
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=14
GoTo SC1-MENU
:SC1Split1-16
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=15
GoTo SC1-MENU
:SC1Split1-17
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=16
GoTo SC1-MENU
:SC1Split1-18
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=17
GoTo SC1-MENU
:SC1Split1-19
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=18
GoTo SC1-MENU
:SC1Split1-20
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=19
GoTo SC1-MENU
:SC1Split1-21
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=20
GoTo SC1-MENU
:SC1Split1-22
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=21
GoTo SC1-MENU
:SC1Split1-23
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=22
GoTo SC1-MENU
:SC1Split1-24
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=23
GoTo SC1-MENU
:SC1Split1-25
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=24
GoTo SC1-MENU
:SC1Split1-26
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=25
GoTo SC1-MENU
:SC1Split1-27
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=26
GoTo SC1-MENU
:SC1Split1-28
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=27
GoTo SC1-MENU
:SC1Split1-29
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=28
GoTo SC1-MENU
:SC1Split1-30
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=29
GoTo SC1-MENU
:SC1Split1-31
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=30
GoTo SC1-MENU
:SC1Split1-32
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=31
GoTo SC1-MENU
:SC1Split1-33
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=32
GoTo SC1-MENU
:SC1Split1-34
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=33
GoTo SC1-MENU
:SC1Split1-35
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=34
GoTo SC1-MENU
:SC1Split1-36
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=35
GoTo SC1-MENU
:SC1Split1-37
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=36
GoTo SC1-MENU
:SC1Split1-38
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=37
GoTo SC1-MENU
:SC1Split1-39
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=38
GoTo SC1-MENU
:SC1Split1-40
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=39
GoTo SC1-MENU
:SC1Split1-41
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=40
GoTo SC1-MENU
:SC1Split1-42
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=41
GoTo SC1-MENU
:SC1Split1-43
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=42
GoTo SC1-MENU
:SC1Split1-44
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=43
GoTo SC1-MENU
:SC1Split1-45
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=44
GoTo SC1-MENU
:SC1Split1-46
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=45
GoTo SC1-MENU
:SC1Split1-47
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=46
GoTo SC1-MENU
:SC1Split1-48
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=47
GoTo SC1-MENU
:SC1Split1-49
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=48
GoTo SC1-MENU
:SC1Split1-50
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=49
GoTo SC1-MENU
:SC1Split1-51
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=50
GoTo SC1-MENU
:SC1Split1-52
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=51
GoTo SC1-MENU
:SC1Split1-53
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=52
GoTo SC1-MENU
:SC1Split1-54
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=53
GoTo SC1-MENU
:SC1Split1-55
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=54
GoTo SC1-MENU
:SC1Split1-56
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=55
GoTo SC1-MENU
:SC1Split1-57
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=56
GoTo SC1-MENU
:SC1Split1-58
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=57
GoTo SC1-MENU
:SC1Split1-59
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=58
GoTo SC1-MENU
:SC1Split1-60
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=59
GoTo SC1-MENU
:SC1Split1-61
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=60
GoTo SC1-MENU
:SC1Split1-62
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=61
GoTo SC1-MENU
:SC1Split1-63
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=62
GoTo SC1-MENU
:SC1Split1-64
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=63
GoTo SC1-MENU

:SC2-MENU
cls
color 0f
Set SC2Split=
echo      ************************************************************************************************************
echo                                                DAHUA NVR Split Controler
echo      ************************************************************************************************************
echo                                       Вибір каналу для відображення на NVR #4 IP:%4NVRIP%
echo      ************************************************************************************************************
echo  1 - Дрогобич пл. Ринок 21     +  23 - К.Буська Незалежності 32  +  45 - 
echo  2 - Дрогобич пл. Ринок Life   +  24 - Снятин Шевченка 145       +  46 - 
echo  3 - Дрогобич пл. Ринок 12     +  25 - Турка Міцкевича 2         +  47 - 
echo  4 - Дрогобич пл. Ринок 20     +  26 - Золочів Шашкевича 8       +  48 - 
echo  5 - Дрогобич пл. Ринок 31     +  27 - Надвірна Грушевського 1   +  49 - 
echo  6 - Дрогобич П. Орлика        +  28 - Радехів Л.Українки 3      +  50 - 
echo  7 - Борислав Міцкевича 6      +  29 - Болехів Франка 10А        +  51 - 
echo  8 - Борислав Міцкевича 3/4    +  30 - Сколе Д.Галицького 1      +  52 - 
echo  9 - Борислав ТКС              +  31 - Броди Золота 15           +  53 - 
echo  10 - Борислав Олімп           +  32 - Броди Замкова 2           +  54 - 
echo  11 - Борислав В.Великого      +  33 - Коломия Шевченка 25       +  55 - 
echo  12 - Самбір пл. Ринок 36      +  34 - Луцьк ТАМ-ТАМ             +  56 - 
echo  13 - Самбір пл. Ринок 37/2    +  35 - Луцьк ГЛОБУС              +  57 - 
echo  14 - Стебник Грушевського 6   +  36 - Стрий пл. Ринок 23        +  58 - 
echo  15 - Стебник Грушевс. Ринок   +  37 - Стрий пл. Ринок 36        +  59 - 
echo  16 - Мостиська Гайдамацька 1  +  38 - Львів Добробут            +  60 - 
echo  17 - Мостиська Гайдамацьк 1Б  +  39 - Львів Шпитальна 9         +  61 - 
echo  18 - Н.Яворівськ Бандери 18   +  40 - Бурштин Калушська         +  62 - 
echo  19 - Рогатин Шевченка 3       +  41 - Почаїв Шевченка 5Б        +  63 - 
echo  20 - Буськ Львівська 6        +  42 -                           +  64 - 
echo  21 - Бубач Галицька 44        +  43 -                           +  
echo  22 - Н.Розділ Шевченка 15     +  44 -                           +  0  - Спліт 64 каналів  
echo.
echo.
echo  Для виходу в попереднє меню натисніть "Enter" без вводу каналу


Set /p SC2Split=Введіть номер каналу який потрібно відкрити на ввесь екран:
if not defined SC2Split GoTo MENU-1
set /a SC2Split=%SC2Split%
if %SC2Split%==0 GoTo SC2Split64
if %SC2Split%==1 GoTo SC2Split1-01
if %SC2Split%==2 GoTo SC2Split1-02
if %SC2Split%==3 GoTo SC2Split1-03
if %SC2Split%==4 GoTo SC2Split1-04
if %SC2Split%==5 GoTo SC2Split1-05
if %SC2Split%==6 GoTo SC2Split1-06
if %SC2Split%==7 GoTo SC2Split1-07
if %SC2Split%==8 GoTo SC2Split1-08
if %SC2Split%==9 GoTo SC2Split1-09
if %SC2Split%==10 GoTo SC2Split1-10
if %SC2Split%==11 GoTo SC2Split1-11
if %SC2Split%==12 GoTo SC2Split1-12
if %SC2Split%==13 GoTo SC2Split1-13
if %SC2Split%==14 GoTo SC2Split1-14
if %SC2Split%==15 GoTo SC2Split1-15
if %SC2Split%==16 GoTo SC2Split1-16
if %SC2Split%==17 GoTo SC2Split1-17
if %SC2Split%==18 GoTo SC2Split1-18
if %SC2Split%==19 GoTo SC2Split1-19
if %SC2Split%==20 GoTo SC2Split1-20
if %SC2Split%==21 GoTo SC2Split1-21
if %SC2Split%==22 GoTo SC2Split1-22
if %SC2Split%==23 GoTo SC2Split1-23
if %SC2Split%==24 GoTo SC2Split1-24
if %SC2Split%==25 GoTo SC2Split1-25
if %SC2Split%==26 GoTo SC2Split1-26
if %SC2Split%==27 GoTo SC2Split1-27
if %SC2Split%==28 GoTo SC2Split1-28
if %SC2Split%==29 GoTo SC2Split1-29
if %SC2Split%==30 GoTo SC2Split1-30
if %SC2Split%==31 GoTo SC2Split1-31
if %SC2Split%==32 GoTo SC2Split1-32
if %SC2Split%==33 GoTo SC2Split1-33
if %SC2Split%==34 GoTo SC2Split1-34
if %SC2Split%==35 GoTo SC2Split1-35
if %SC2Split%==36 GoTo SC2Split1-36
if %SC2Split%==37 GoTo SC2Split1-37
if %SC2Split%==38 GoTo SC2Split1-38
if %SC2Split%==39 GoTo SC2Split1-39
if %SC2Split%==40 GoTo SC2Split1-40
if %SC2Split%==41 GoTo SC2Split1-41
if %SC2Split%==42 GoTo SC2Split1-42
if %SC2Split%==43 GoTo SC2Split1-43
if %SC2Split%==44 GoTo SC2Split1-44
if %SC2Split%==45 GoTo SC2Split1-45
if %SC2Split%==46 GoTo SC2Split1-46
if %SC2Split%==47 GoTo SC2Split1-47
if %SC2Split%==48 GoTo SC2Split1-48
if %SC2Split%==49 GoTo SC2Split1-49
if %SC2Split%==50 GoTo SC2Split1-50
if %SC2Split%==51 GoTo SC2Split1-51
if %SC2Split%==52 GoTo SC2Split1-52
if %SC2Split%==53 GoTo SC2Split1-53
if %SC2Split%==54 GoTo SC2Split1-54
if %SC2Split%==55 GoTo SC2Split1-55
if %SC2Split%==56 GoTo SC2Split1-56
if %SC2Split%==57 GoTo SC2Split1-57
if %SC2Split%==58 GoTo SC2Split1-58
if %SC2Split%==59 GoTo SC2Split1-59
if %SC2Split%==60 GoTo SC2Split1-60
if %SC2Split%==61 GoTo SC2Split1-61
if %SC2Split%==62 GoTo SC2Split1-62
if %SC2Split%==63 GoTo SC2Split1-63
if %SC2Split%==64 GoTo SC2Split1-64


:SC2Split64
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split64&group=0"
GoTo SC2-MENU
:SC2Split1-01
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=0
GoTo SC2-MENU
:SC2Split1-02
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=1
GoTo SC2-MENU
:SC2Split1-03
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=2
GoTo SC2-MENU
:SC2Split1-04
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=3
GoTo SC2-MENU
:SC2Split1-05
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=4
GoTo SC2-MENU
:SC2Split1-06
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=5
GoTo SC2-MENU
:SC2Split1-07
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=6
GoTo SC2-MENU
:SC2Split1-08
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=7
GoTo SC2-MENU
:SC2Split1-09
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=8
GoTo SC2-MENU
:SC2Split1-10
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=9
GoTo SC2-MENU
:SC2Split1-11
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=10
GoTo SC2-MENU
:SC2Split1-12
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=11
GoTo SC2-MENU
:SC2Split1-13
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=12
GoTo SC2-MENU
:SC2Split1-14
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=13
GoTo SC2-MENU
:SC2Split1-15
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=14
GoTo SC2-MENU
:SC2Split1-16
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=15
GoTo SC2-MENU
:SC2Split1-17
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=16
GoTo SC2-MENU
:SC2Split1-18
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=17
GoTo SC2-MENU
:SC2Split1-19
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=18
GoTo SC2-MENU
:SC2Split1-20
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=19
GoTo SC2-MENU
:SC2Split1-21
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=20
GoTo SC2-MENU
:SC2Split1-22
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=21
GoTo SC2-MENU
:SC2Split1-23
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=22
GoTo SC2-MENU
:SC2Split1-24
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=23
GoTo SC2-MENU
:SC2Split1-25
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=24
GoTo SC2-MENU
:SC2Split1-26
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=25
GoTo SC2-MENU
:SC2Split1-27
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=26
GoTo SC2-MENU
:SC2Split1-28
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=27
GoTo SC2-MENU
:SC2Split1-29
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=28
GoTo SC2-MENU
:SC2Split1-30
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=29
GoTo SC2-MENU
:SC2Split1-31
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=30
GoTo SC2-MENU
:SC2Split1-32
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=31
GoTo SC2-MENU
:SC2Split1-33
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=32
GoTo SC2-MENU
:SC2Split1-34
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=33
GoTo SC2-MENU
:SC2Split1-35
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=34
GoTo SC2-MENU
:SC2Split1-36
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=35
GoTo SC2-MENU
:SC2Split1-37
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=36
GoTo SC2-MENU
:SC2Split1-38
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=37
GoTo SC2-MENU
:SC2Split1-39
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=38
GoTo SC2-MENU
:SC2Split1-40
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=39
GoTo SC2-MENU
:SC2Split1-41
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=40
GoTo SC2-MENU
:SC2Split1-42
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=41
GoTo SC2-MENU
:SC2Split1-43
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=42
GoTo SC2-MENU
:SC2Split1-44
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=43
GoTo SC2-MENU
:SC2Split1-45
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=44
GoTo SC2-MENU
:SC2Split1-46
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=45
GoTo SC2-MENU
:SC2Split1-47
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=46
GoTo SC2-MENU
:SC2Split1-48
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=47
GoTo SC2-MENU
:SC2Split1-49
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=48
GoTo SC2-MENU
:SC2Split1-50
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=49
GoTo SC2-MENU
:SC2Split1-51
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=50
GoTo SC2-MENU
:SC2Split1-52
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=51
GoTo SC2-MENU
:SC2Split1-53
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=52
GoTo SC2-MENU
:SC2Split1-54
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=53
GoTo SC2-MENU
:SC2Split1-55
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=54
GoTo SC2-MENU
:SC2Split1-56
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=55
GoTo SC2-MENU
:SC2Split1-57
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=56
GoTo SC2-MENU
:SC2Split1-58
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=57
GoTo SC2-MENU
:SC2Split1-59
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=58
GoTo SC2-MENU
:SC2Split1-60
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=59
GoTo SC2-MENU
:SC2Split1-61
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=60
GoTo SC2-MENU
:SC2Split1-62
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=61
GoTo SC2-MENU
:SC2Split1-63
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=62
GoTo SC2-MENU
:SC2Split1-64
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/split.cgi?action=setMode&channel=1&mode=Split1&group=63
GoTo SC2-MENU



:AddUserNVRs
cls
color 1F
echo      ************************************************************************************************************
echo                                                DAHUA HTTP API CONFIGURATOR
echo      ************************************************************************************************************
echo                                          Додавання користувача до всіх NVR-ів
echo      ************************************************************************************************************
echo      Введіть попорядку І'мя та Пароль користувача якого необхідно створити. Ця дані будуть використовуватись для
echo      входу через додатки SmartPSS, GDMSS, та WEB-Інтерфейс
echo.     
echo.
echo.
echo.      
echo.      
echo.
echo.
echo.
set /p TempUsernameNVRs=Введiть Ім'я користувача:
set /p TempPasswordNVRs=Введiть пароль для користувача %TempUsernameNVRs%:
Choice /N /T 5 /D N /M "Через 5 сек. буде доданий користувач %TempUsernameNVRs% на всі NVR-и"
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%1NVRIP%/cgi-bin/userManager.cgi?action=addUser&user.Name=%TempUsernameNVRs%&user.Password=%TempPasswordNVRs%&user.Group=user&user.Sharable=true&user.Reserved=false"
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%2NVRIP%/cgi-bin/userManager.cgi?action=addUser&user.Name=%TempUsernameNVRs%&user.Password=%TempPasswordNVRs%&user.Group=user&user.Sharable=true&user.Reserved=false"
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%3NVRIP%/cgi-bin/userManager.cgi?action=addUser&user.Name=%TempUsernameNVRs%&user.Password=%TempPasswordNVRs%&user.Group=user&user.Sharable=true&user.Reserved=false"
curl --user %NVRLogin%:%NVRPassword% --digest --globoff "http://%4NVRIP%/cgi-bin/userManager.cgi?action=addUser&user.Name=%TempUsernameNVRs%&user.Password=%TempPasswordNVRs%&user.Group=user&user.Sharable=true&user.Reserved=false"
CHOICE /N /T 30 /C ynx /D n /M "Створити ще одного користувача?  Так - y, Нi - n, Вийти - x"
if %errorlevel%==2 GoTo MENU-1
if %errorlevel%==1 GoTo AddUserNVRs
if %errorlevel%==3 Goto DelandExit